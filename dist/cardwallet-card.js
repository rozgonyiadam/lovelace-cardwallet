var Zi=Object.create;var Cn=Object.defineProperty;var eo=Object.getOwnPropertyDescriptor;var to=Object.getOwnPropertyNames;var no=Object.getPrototypeOf,ro=Object.prototype.hasOwnProperty;var f=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var io=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of to(e))!ro.call(t,i)&&i!==n&&Cn(t,i,{get:()=>e[i],enumerable:!(r=eo(e,i))||r.enumerable});return t};var Tn=(t,e,n)=>(n=t!=null?Zi(no(t)):{},io(e||!t||!t.__esModule?Cn(n,"default",{value:t,enumerable:!0}):n,t));var Pn=f((qs,Rn)=>{Rn.exports=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}});var I=f(j=>{var Ye,oo=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];j.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};j.getSymbolTotalCodewords=function(e){return oo[e]};j.getBCHDigit=function(t){let e=0;for(;t!==0;)e++,t>>>=1;return e};j.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');Ye=e};j.isKanjiModeEnabled=function(){return typeof Ye<"u"};j.toSJIS=function(e){return Ye(e)}});var Se=f(b=>{b.L={bit:1};b.M={bit:0};b.Q={bit:3};b.H={bit:2};function ao(t){if(typeof t!="string")throw new Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return b.L;case"m":case"medium":return b.M;case"q":case"quartile":return b.Q;case"h":case"high":return b.H;default:throw new Error("Unknown EC Level: "+t)}}b.isValid=function(e){return e&&typeof e.bit<"u"&&e.bit>=0&&e.bit<4};b.from=function(e,n){if(b.isValid(e))return e;try{return ao(e)}catch{return n}}});var Bn=f((Us,In)=>{function Mn(){this.buffer=[],this.length=0}Mn.prototype={get:function(t){let e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let n=0;n<e;n++)this.putBit((t>>>e-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){let e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};In.exports=Mn});var Nn=f((Fs,Ln)=>{function oe(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}oe.prototype.set=function(t,e,n,r){let i=t*this.size+e;this.data[i]=n,r&&(this.reservedBit[i]=!0)};oe.prototype.get=function(t,e){return this.data[t*this.size+e]};oe.prototype.xor=function(t,e,n){this.data[t*this.size+e]^=n};oe.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};Ln.exports=oe});var kn=f(xe=>{var uo=I().getSymbolSize;xe.getRowColCoords=function(e){if(e===1)return[];let n=Math.floor(e/7)+2,r=uo(e),i=r===145?26:Math.ceil((r-13)/(2*n-2))*2,o=[r-7];for(let a=1;a<n-1;a++)o[a]=o[a-1]-i;return o.push(6),o.reverse()};xe.getPositions=function(e){let n=[],r=xe.getRowColCoords(e),i=r.length;for(let o=0;o<i;o++)for(let a=0;a<i;a++)o===0&&a===0||o===0&&a===i-1||o===i-1&&a===0||n.push([r[o],r[a]]);return n}});var jn=f(Dn=>{var co=I().getSymbolSize,qn=7;Dn.getPositions=function(e){let n=co(e);return[[0,0],[n-qn,0],[0,n-qn]]}});var Un=f(g=>{g.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var U={N1:3,N2:3,N3:40,N4:10};g.isValid=function(e){return e!=null&&e!==""&&!isNaN(e)&&e>=0&&e<=7};g.from=function(e){return g.isValid(e)?parseInt(e,10):void 0};g.getPenaltyN1=function(e){let n=e.size,r=0,i=0,o=0,a=null,u=null;for(let c=0;c<n;c++){i=o=0,a=u=null;for(let l=0;l<n;l++){let s=e.get(c,l);s===a?i++:(i>=5&&(r+=U.N1+(i-5)),a=s,i=1),s=e.get(l,c),s===u?o++:(o>=5&&(r+=U.N1+(o-5)),u=s,o=1)}i>=5&&(r+=U.N1+(i-5)),o>=5&&(r+=U.N1+(o-5))}return r};g.getPenaltyN2=function(e){let n=e.size,r=0;for(let i=0;i<n-1;i++)for(let o=0;o<n-1;o++){let a=e.get(i,o)+e.get(i,o+1)+e.get(i+1,o)+e.get(i+1,o+1);(a===4||a===0)&&r++}return r*U.N2};g.getPenaltyN3=function(e){let n=e.size,r=0,i=0,o=0;for(let a=0;a<n;a++){i=o=0;for(let u=0;u<n;u++)i=i<<1&2047|e.get(a,u),u>=10&&(i===1488||i===93)&&r++,o=o<<1&2047|e.get(u,a),u>=10&&(o===1488||o===93)&&r++}return r*U.N3};g.getPenaltyN4=function(e){let n=0,r=e.data.length;for(let o=0;o<r;o++)n+=e.data[o];return Math.abs(Math.ceil(n*100/r/5)-10)*U.N4};function fo(t,e,n){switch(t){case g.Patterns.PATTERN000:return(e+n)%2===0;case g.Patterns.PATTERN001:return e%2===0;case g.Patterns.PATTERN010:return n%3===0;case g.Patterns.PATTERN011:return(e+n)%3===0;case g.Patterns.PATTERN100:return(Math.floor(e/2)+Math.floor(n/3))%2===0;case g.Patterns.PATTERN101:return e*n%2+e*n%3===0;case g.Patterns.PATTERN110:return(e*n%2+e*n%3)%2===0;case g.Patterns.PATTERN111:return(e*n%3+(e+n)%2)%2===0;default:throw new Error("bad maskPattern:"+t)}}g.applyMask=function(e,n){let r=n.size;for(let i=0;i<r;i++)for(let o=0;o<r;o++)n.isReserved(o,i)||n.xor(o,i,fo(e,o,i))};g.getBestMask=function(e,n){let r=Object.keys(g.Patterns).length,i=0,o=1/0;for(let a=0;a<r;a++){n(a),g.applyMask(a,e);let u=g.getPenaltyN1(e)+g.getPenaltyN2(e)+g.getPenaltyN3(e)+g.getPenaltyN4(e);g.applyMask(a,e),u<o&&(o=u,i=a)}return i}});var We=f(Qe=>{var B=Se(),Ae=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Ce=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Qe.getBlocksCount=function(e,n){switch(n){case B.L:return Ae[(e-1)*4+0];case B.M:return Ae[(e-1)*4+1];case B.Q:return Ae[(e-1)*4+2];case B.H:return Ae[(e-1)*4+3];default:return}};Qe.getTotalCodewordsCount=function(e,n){switch(n){case B.L:return Ce[(e-1)*4+0];case B.M:return Ce[(e-1)*4+1];case B.Q:return Ce[(e-1)*4+2];case B.H:return Ce[(e-1)*4+3];default:return}}});var Fn=f(Re=>{var ae=new Uint8Array(512),Te=new Uint8Array(256);(function(){let e=1;for(let n=0;n<255;n++)ae[n]=e,Te[e]=n,e<<=1,e&256&&(e^=285);for(let n=255;n<512;n++)ae[n]=ae[n-255]})();Re.log=function(e){if(e<1)throw new Error("log("+e+")");return Te[e]};Re.exp=function(e){return ae[e]};Re.mul=function(e,n){return e===0||n===0?0:ae[Te[e]+Te[n]]}});var zn=f(ue=>{var Ze=Fn();ue.mul=function(e,n){let r=new Uint8Array(e.length+n.length-1);for(let i=0;i<e.length;i++)for(let o=0;o<n.length;o++)r[i+o]^=Ze.mul(e[i],n[o]);return r};ue.mod=function(e,n){let r=new Uint8Array(e);for(;r.length-n.length>=0;){let i=r[0];for(let a=0;a<n.length;a++)r[a]^=Ze.mul(n[a],i);let o=0;for(;o<r.length&&r[o]===0;)o++;r=r.slice(o)}return r};ue.generateECPolynomial=function(e){let n=new Uint8Array([1]);for(let r=0;r<e;r++)n=ue.mul(n,new Uint8Array([1,Ze.exp(r)]));return n}});var Vn=f((Js,Hn)=>{var Gn=zn();function et(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}et.prototype.initialize=function(e){this.degree=e,this.genPoly=Gn.generateECPolynomial(this.degree)};et.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");let n=new Uint8Array(e.length+this.degree);n.set(e);let r=Gn.mod(n,this.genPoly),i=this.degree-r.length;if(i>0){let o=new Uint8Array(this.degree);return o.set(r,i),o}return r};Hn.exports=et});var tt=f(Xn=>{Xn.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}});var nt=f(P=>{var $n="[0-9]+",lo="[A-Z $%*+\\-./:]+",ce="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";ce=ce.replace(/u/g,"\\u");var so="(?:(?![A-Z0-9 $%*+\\-./:]|"+ce+`)(?:.|[\r
]))+`;P.KANJI=new RegExp(ce,"g");P.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");P.BYTE=new RegExp(so,"g");P.NUMERIC=new RegExp($n,"g");P.ALPHANUMERIC=new RegExp(lo,"g");var ho=new RegExp("^"+ce+"$"),go=new RegExp("^"+$n+"$"),_o=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");P.testKanji=function(e){return ho.test(e)};P.testNumeric=function(e){return go.test(e)};P.testAlphanumeric=function(e){return _o.test(e)}});var L=f(p=>{var vo=tt(),rt=nt();p.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]};p.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]};p.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]};p.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]};p.MIXED={bit:-1};p.getCharCountIndicator=function(e,n){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!vo.isValid(n))throw new Error("Invalid version: "+n);return n>=1&&n<10?e.ccBits[0]:n<27?e.ccBits[1]:e.ccBits[2]};p.getBestModeForData=function(e){return rt.testNumeric(e)?p.NUMERIC:rt.testAlphanumeric(e)?p.ALPHANUMERIC:rt.testKanji(e)?p.KANJI:p.BYTE};p.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")};p.isValid=function(e){return e&&e.bit&&e.ccBits};function po(t){if(typeof t!="string")throw new Error("Param is not a string");switch(t.toLowerCase()){case"numeric":return p.NUMERIC;case"alphanumeric":return p.ALPHANUMERIC;case"kanji":return p.KANJI;case"byte":return p.BYTE;default:throw new Error("Unknown mode: "+t)}}p.from=function(e,n){if(p.isValid(e))return e;try{return po(e)}catch{return n}}});var Wn=f(F=>{var Pe=I(),yo=We(),Jn=Se(),N=L(),it=tt(),Yn=7973,Kn=Pe.getBCHDigit(Yn);function Eo(t,e,n){for(let r=1;r<=40;r++)if(e<=F.getCapacity(r,n,t))return r}function Qn(t,e){return N.getCharCountIndicator(t,e)+4}function mo(t,e){let n=0;return t.forEach(function(r){let i=Qn(r.mode,e);n+=i+r.getBitsLength()}),n}function wo(t,e){for(let n=1;n<=40;n++)if(mo(t,n)<=F.getCapacity(n,e,N.MIXED))return n}F.from=function(e,n){return it.isValid(e)?parseInt(e,10):n};F.getCapacity=function(e,n,r){if(!it.isValid(e))throw new Error("Invalid QR Code version");typeof r>"u"&&(r=N.BYTE);let i=Pe.getSymbolTotalCodewords(e),o=yo.getTotalCodewordsCount(e,n),a=(i-o)*8;if(r===N.MIXED)return a;let u=a-Qn(r,e);switch(r){case N.NUMERIC:return Math.floor(u/10*3);case N.ALPHANUMERIC:return Math.floor(u/11*2);case N.KANJI:return Math.floor(u/13);case N.BYTE:default:return Math.floor(u/8)}};F.getBestVersionForData=function(e,n){let r,i=Jn.from(n,Jn.M);if(Array.isArray(e)){if(e.length>1)return wo(e,i);if(e.length===0)return 1;r=e[0]}else r=e;return Eo(r.mode,r.getLength(),i)};F.getEncodedBits=function(e){if(!it.isValid(e)||e<7)throw new Error("Invalid QR Code version");let n=e<<12;for(;Pe.getBCHDigit(n)-Kn>=0;)n^=Yn<<Pe.getBCHDigit(n)-Kn;return e<<12|n}});var nr=f(tr=>{var ot=I(),er=1335,bo=21522,Zn=ot.getBCHDigit(er);tr.getEncodedBits=function(e,n){let r=e.bit<<3|n,i=r<<10;for(;ot.getBCHDigit(i)-Zn>=0;)i^=er<<ot.getBCHDigit(i)-Zn;return(r<<10|i)^bo}});var ir=f((e0,rr)=>{var Oo=L();function V(t){this.mode=Oo.NUMERIC,this.data=t.toString()}V.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};V.prototype.getLength=function(){return this.data.length};V.prototype.getBitsLength=function(){return V.getBitsLength(this.data.length)};V.prototype.write=function(e){let n,r,i;for(n=0;n+3<=this.data.length;n+=3)r=this.data.substr(n,3),i=parseInt(r,10),e.put(i,10);let o=this.data.length-n;o>0&&(r=this.data.substr(n),i=parseInt(r,10),e.put(i,o*3+1))};rr.exports=V});var ar=f((t0,or)=>{var So=L(),at=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function X(t){this.mode=So.ALPHANUMERIC,this.data=t}X.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};X.prototype.getLength=function(){return this.data.length};X.prototype.getBitsLength=function(){return X.getBitsLength(this.data.length)};X.prototype.write=function(e){let n;for(n=0;n+2<=this.data.length;n+=2){let r=at.indexOf(this.data[n])*45;r+=at.indexOf(this.data[n+1]),e.put(r,11)}this.data.length%2&&e.put(at.indexOf(this.data[n]),6)};or.exports=X});var cr=f((n0,ur)=>{var xo=L();function $(t){this.mode=xo.BYTE,typeof t=="string"?this.data=new TextEncoder().encode(t):this.data=new Uint8Array(t)}$.getBitsLength=function(e){return e*8};$.prototype.getLength=function(){return this.data.length};$.prototype.getBitsLength=function(){return $.getBitsLength(this.data.length)};$.prototype.write=function(t){for(let e=0,n=this.data.length;e<n;e++)t.put(this.data[e],8)};ur.exports=$});var lr=f((r0,fr)=>{var Ao=L(),Co=I();function J(t){this.mode=Ao.KANJI,this.data=t}J.getBitsLength=function(e){return e*13};J.prototype.getLength=function(){return this.data.length};J.prototype.getBitsLength=function(){return J.getBitsLength(this.data.length)};J.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let n=Co.toSJIS(this.data[e]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),t.put(n,13)}};fr.exports=J});var sr=f((i0,ut)=>{"use strict";var fe={single_source_shortest_paths:function(t,e,n){var r={},i={};i[e]=0;var o=fe.PriorityQueue.make();o.push(e,0);for(var a,u,c,l,s,v,d,E,x;!o.empty();){a=o.pop(),u=a.value,l=a.cost,s=t[u]||{};for(c in s)s.hasOwnProperty(c)&&(v=s[c],d=l+v,E=i[c],x=typeof i[c]>"u",(x||E>d)&&(i[c]=d,o.push(c,d),r[c]=u))}if(typeof n<"u"&&typeof i[n]>"u"){var A=["Could not find a path from ",e," to ",n,"."].join("");throw new Error(A)}return r},extract_shortest_path_from_predecessor_list:function(t,e){for(var n=[],r=e,i;r;)n.push(r),i=t[r],r=t[r];return n.reverse(),n},find_path:function(t,e,n){var r=fe.single_source_shortest_paths(t,e,n);return fe.extract_shortest_path_from_predecessor_list(r,n)},PriorityQueue:{make:function(t){var e=fe.PriorityQueue,n={},r;t=t||{};for(r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);return n.queue=[],n.sorter=t.sorter||e.default_sorter,n},default_sorter:function(t,e){return t.cost-e.cost},push:function(t,e){var n={value:t,cost:e};this.queue.push(n),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};typeof ut<"u"&&(ut.exports=fe)});var Er=f(K=>{var h=L(),gr=ir(),_r=ar(),vr=cr(),pr=lr(),le=nt(),Me=I(),To=sr();function dr(t){return unescape(encodeURIComponent(t)).length}function se(t,e,n){let r=[],i;for(;(i=t.exec(n))!==null;)r.push({data:i[0],index:i.index,mode:e,length:i[0].length});return r}function yr(t){let e=se(le.NUMERIC,h.NUMERIC,t),n=se(le.ALPHANUMERIC,h.ALPHANUMERIC,t),r,i;return Me.isKanjiModeEnabled()?(r=se(le.BYTE,h.BYTE,t),i=se(le.KANJI,h.KANJI,t)):(r=se(le.BYTE_KANJI,h.BYTE,t),i=[]),e.concat(n,r,i).sort(function(a,u){return a.index-u.index}).map(function(a){return{data:a.data,mode:a.mode,length:a.length}})}function ct(t,e){switch(e){case h.NUMERIC:return gr.getBitsLength(t);case h.ALPHANUMERIC:return _r.getBitsLength(t);case h.KANJI:return pr.getBitsLength(t);case h.BYTE:return vr.getBitsLength(t)}}function Ro(t){return t.reduce(function(e,n){let r=e.length-1>=0?e[e.length-1]:null;return r&&r.mode===n.mode?(e[e.length-1].data+=n.data,e):(e.push(n),e)},[])}function Po(t){let e=[];for(let n=0;n<t.length;n++){let r=t[n];switch(r.mode){case h.NUMERIC:e.push([r,{data:r.data,mode:h.ALPHANUMERIC,length:r.length},{data:r.data,mode:h.BYTE,length:r.length}]);break;case h.ALPHANUMERIC:e.push([r,{data:r.data,mode:h.BYTE,length:r.length}]);break;case h.KANJI:e.push([r,{data:r.data,mode:h.BYTE,length:dr(r.data)}]);break;case h.BYTE:e.push([{data:r.data,mode:h.BYTE,length:dr(r.data)}])}}return e}function Mo(t,e){let n={},r={start:{}},i=["start"];for(let o=0;o<t.length;o++){let a=t[o],u=[];for(let c=0;c<a.length;c++){let l=a[c],s=""+o+c;u.push(s),n[s]={node:l,lastCount:0},r[s]={};for(let v=0;v<i.length;v++){let d=i[v];n[d]&&n[d].node.mode===l.mode?(r[d][s]=ct(n[d].lastCount+l.length,l.mode)-ct(n[d].lastCount,l.mode),n[d].lastCount+=l.length):(n[d]&&(n[d].lastCount=l.length),r[d][s]=ct(l.length,l.mode)+4+h.getCharCountIndicator(l.mode,e))}}i=u}for(let o=0;o<i.length;o++)r[i[o]].end=0;return{map:r,table:n}}function hr(t,e){let n,r=h.getBestModeForData(t);if(n=h.from(e,r),n!==h.BYTE&&n.bit<r.bit)throw new Error('"'+t+'" cannot be encoded with mode '+h.toString(n)+`.
 Suggested mode is: `+h.toString(r));switch(n===h.KANJI&&!Me.isKanjiModeEnabled()&&(n=h.BYTE),n){case h.NUMERIC:return new gr(t);case h.ALPHANUMERIC:return new _r(t);case h.KANJI:return new pr(t);case h.BYTE:return new vr(t)}}K.fromArray=function(e){return e.reduce(function(n,r){return typeof r=="string"?n.push(hr(r,null)):r.data&&n.push(hr(r.data,r.mode)),n},[])};K.fromString=function(e,n){let r=yr(e,Me.isKanjiModeEnabled()),i=Po(r),o=Mo(i,n),a=To.find_path(o.map,"start","end"),u=[];for(let c=1;c<a.length-1;c++)u.push(o.table[a[c]].node);return K.fromArray(Ro(u))};K.rawSplit=function(e){return K.fromArray(yr(e,Me.isKanjiModeEnabled()))}});var wr=f(mr=>{var Be=I(),ft=Se(),Io=Bn(),Bo=Nn(),Lo=kn(),No=jn(),dt=Un(),ht=We(),ko=Vn(),Ie=Wn(),qo=nr(),Do=L(),lt=Er();function jo(t,e){let n=t.size,r=No.getPositions(e);for(let i=0;i<r.length;i++){let o=r[i][0],a=r[i][1];for(let u=-1;u<=7;u++)if(!(o+u<=-1||n<=o+u))for(let c=-1;c<=7;c++)a+c<=-1||n<=a+c||(u>=0&&u<=6&&(c===0||c===6)||c>=0&&c<=6&&(u===0||u===6)||u>=2&&u<=4&&c>=2&&c<=4?t.set(o+u,a+c,!0,!0):t.set(o+u,a+c,!1,!0))}}function Uo(t){let e=t.size;for(let n=8;n<e-8;n++){let r=n%2===0;t.set(n,6,r,!0),t.set(6,n,r,!0)}}function Fo(t,e){let n=Lo.getPositions(e);for(let r=0;r<n.length;r++){let i=n[r][0],o=n[r][1];for(let a=-2;a<=2;a++)for(let u=-2;u<=2;u++)a===-2||a===2||u===-2||u===2||a===0&&u===0?t.set(i+a,o+u,!0,!0):t.set(i+a,o+u,!1,!0)}}function zo(t,e){let n=t.size,r=Ie.getEncodedBits(e),i,o,a;for(let u=0;u<18;u++)i=Math.floor(u/3),o=u%3+n-8-3,a=(r>>u&1)===1,t.set(i,o,a,!0),t.set(o,i,a,!0)}function st(t,e,n){let r=t.size,i=qo.getEncodedBits(e,n),o,a;for(o=0;o<15;o++)a=(i>>o&1)===1,o<6?t.set(o,8,a,!0):o<8?t.set(o+1,8,a,!0):t.set(r-15+o,8,a,!0),o<8?t.set(8,r-o-1,a,!0):o<9?t.set(8,15-o-1+1,a,!0):t.set(8,15-o-1,a,!0);t.set(r-8,8,1,!0)}function Go(t,e){let n=t.size,r=-1,i=n-1,o=7,a=0;for(let u=n-1;u>0;u-=2)for(u===6&&u--;;){for(let c=0;c<2;c++)if(!t.isReserved(i,u-c)){let l=!1;a<e.length&&(l=(e[a]>>>o&1)===1),t.set(i,u-c,l),o--,o===-1&&(a++,o=7)}if(i+=r,i<0||n<=i){i-=r,r=-r;break}}}function Ho(t,e,n){let r=new Io;n.forEach(function(c){r.put(c.mode.bit,4),r.put(c.getLength(),Do.getCharCountIndicator(c.mode,t)),c.write(r)});let i=Be.getSymbolTotalCodewords(t),o=ht.getTotalCodewordsCount(t,e),a=(i-o)*8;for(r.getLengthInBits()+4<=a&&r.put(0,4);r.getLengthInBits()%8!==0;)r.putBit(0);let u=(a-r.getLengthInBits())/8;for(let c=0;c<u;c++)r.put(c%2?17:236,8);return Vo(r,t,e)}function Vo(t,e,n){let r=Be.getSymbolTotalCodewords(e),i=ht.getTotalCodewordsCount(e,n),o=r-i,a=ht.getBlocksCount(e,n),u=r%a,c=a-u,l=Math.floor(r/a),s=Math.floor(o/a),v=s+1,d=l-s,E=new ko(d),x=0,A=new Array(a),xn=new Array(a),$e=0,Wi=new Uint8Array(t.buffer);for(let H=0;H<a;H++){let Ke=H<c?s:v;A[H]=Wi.slice(x,x+Ke),xn[H]=E.encode(A[H]),x+=Ke,$e=Math.max($e,Ke)}let Je=new Uint8Array(r),An=0,T,R;for(T=0;T<$e;T++)for(R=0;R<a;R++)T<A[R].length&&(Je[An++]=A[R][T]);for(T=0;T<d;T++)for(R=0;R<a;R++)Je[An++]=xn[R][T];return Je}function Xo(t,e,n,r){let i;if(Array.isArray(t))i=lt.fromArray(t);else if(typeof t=="string"){let l=e;if(!l){let s=lt.rawSplit(t);l=Ie.getBestVersionForData(s,n)}i=lt.fromString(t,l||40)}else throw new Error("Invalid data");let o=Ie.getBestVersionForData(i,n);if(!o)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=o;else if(e<o)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+o+`.
`);let a=Ho(e,n,i),u=Be.getSymbolSize(e),c=new Bo(u);return jo(c,e),Uo(c),Fo(c,e),st(c,n,0),e>=7&&zo(c,e),Go(c,a),isNaN(r)&&(r=dt.getBestMask(c,st.bind(null,c,n))),dt.applyMask(r,c),st(c,n,r),{modules:c,version:e,errorCorrectionLevel:n,maskPattern:r,segments:i}}mr.create=function(e,n){if(typeof e>"u"||e==="")throw new Error("No input text");let r=ft.M,i,o;return typeof n<"u"&&(r=ft.from(n.errorCorrectionLevel,ft.M),i=Ie.from(n.version),o=dt.from(n.maskPattern),n.toSJISFunc&&Be.setToSJISFunction(n.toSJISFunc)),Xo(e,i,r,o)}});var gt=f(z=>{function br(t){if(typeof t=="number"&&(t=t.toString()),typeof t!="string")throw new Error("Color should be defined as hex string");let e=t.slice().replace("#","").split("");if(e.length<3||e.length===5||e.length>8)throw new Error("Invalid hex color: "+t);(e.length===3||e.length===4)&&(e=Array.prototype.concat.apply([],e.map(function(r){return[r,r]}))),e.length===6&&e.push("F","F");let n=parseInt(e.join(""),16);return{r:n>>24&255,g:n>>16&255,b:n>>8&255,a:n&255,hex:"#"+e.slice(0,6).join("")}}z.getOptions=function(e){e||(e={}),e.color||(e.color={});let n=typeof e.margin>"u"||e.margin===null||e.margin<0?4:e.margin,r=e.width&&e.width>=21?e.width:void 0,i=e.scale||4;return{width:r,scale:r?4:i,margin:n,color:{dark:br(e.color.dark||"#000000ff"),light:br(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}};z.getScale=function(e,n){return n.width&&n.width>=e+n.margin*2?n.width/(e+n.margin*2):n.scale};z.getImageWidth=function(e,n){let r=z.getScale(e,n);return Math.floor((e+n.margin*2)*r)};z.qrToImageData=function(e,n,r){let i=n.modules.size,o=n.modules.data,a=z.getScale(i,r),u=Math.floor((i+r.margin*2)*a),c=r.margin*a,l=[r.color.light,r.color.dark];for(let s=0;s<u;s++)for(let v=0;v<u;v++){let d=(s*u+v)*4,E=r.color.light;if(s>=c&&v>=c&&s<u-c&&v<u-c){let x=Math.floor((s-c)/a),A=Math.floor((v-c)/a);E=l[o[x*i+A]?1:0]}e[d++]=E.r,e[d++]=E.g,e[d++]=E.b,e[d]=E.a}}});var Or=f(Le=>{var _t=gt();function $o(t,e,n){t.clearRect(0,0,e.width,e.height),e.style||(e.style={}),e.height=n,e.width=n,e.style.height=n+"px",e.style.width=n+"px"}function Jo(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}Le.render=function(e,n,r){let i=r,o=n;typeof i>"u"&&(!n||!n.getContext)&&(i=n,n=void 0),n||(o=Jo()),i=_t.getOptions(i);let a=_t.getImageWidth(e.modules.size,i),u=o.getContext("2d"),c=u.createImageData(a,a);return _t.qrToImageData(c.data,e,i),$o(u,o,a),u.putImageData(c,0,0),o};Le.renderToDataURL=function(e,n,r){let i=r;typeof i>"u"&&(!n||!n.getContext)&&(i=n,n=void 0),i||(i={});let o=Le.render(e,n,i),a=i.type||"image/png",u=i.rendererOpts||{};return o.toDataURL(a,u.quality)}});var Ar=f(xr=>{var Ko=gt();function Sr(t,e){let n=t.a/255,r=e+'="'+t.hex+'"';return n<1?r+" "+e+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function vt(t,e,n){let r=t+e;return typeof n<"u"&&(r+=" "+n),r}function Yo(t,e,n){let r="",i=0,o=!1,a=0;for(let u=0;u<t.length;u++){let c=Math.floor(u%e),l=Math.floor(u/e);!c&&!o&&(o=!0),t[u]?(a++,u>0&&c>0&&t[u-1]||(r+=o?vt("M",c+n,.5+l+n):vt("m",i,0),i=0,o=!1),c+1<e&&t[u+1]||(r+=vt("h",a),a=0)):i++}return r}xr.render=function(e,n,r){let i=Ko.getOptions(n),o=e.modules.size,a=e.modules.data,u=o+i.margin*2,c=i.color.light.a?"<path "+Sr(i.color.light,"fill")+' d="M0 0h'+u+"v"+u+'H0z"/>':"",l="<path "+Sr(i.color.dark,"stroke")+' d="'+Yo(a,o,i.margin)+'"/>',s='viewBox="0 0 '+u+" "+u+'"',d='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+s+' shape-rendering="crispEdges">'+c+l+`</svg>
`;return typeof r=="function"&&r(null,d),d}});var Tr=f(de=>{var Qo=Pn(),pt=wr(),Cr=Or(),Wo=Ar();function yt(t,e,n,r,i){let o=[].slice.call(arguments,1),a=o.length,u=typeof o[a-1]=="function";if(!u&&!Qo())throw new Error("Callback required as last argument");if(u){if(a<2)throw new Error("Too few arguments provided");a===2?(i=n,n=e,e=r=void 0):a===3&&(e.getContext&&typeof i>"u"?(i=r,r=void 0):(i=r,r=n,n=e,e=void 0))}else{if(a<1)throw new Error("Too few arguments provided");return a===1?(n=e,e=r=void 0):a===2&&!e.getContext&&(r=n,n=e,e=void 0),new Promise(function(c,l){try{let s=pt.create(n,r);c(t(s,e,r))}catch(s){l(s)}})}try{let c=pt.create(n,r);i(null,t(c,e,r))}catch(c){i(c)}}de.create=pt.create;de.toCanvas=yt.bind(null,Cr.render);de.toDataURL=yt.bind(null,Cr.renderToDataURL);de.toString=yt.bind(null,function(t,e,n){return Wo.render(t,n)})});var m=f(Et=>{"use strict";Object.defineProperty(Et,"__esModule",{value:!0});function Zo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var ea=function t(e,n){Zo(this,t),this.data=e,this.text=n.text||e,this.options=n};Et.default=ea});var Mr=f(Ne=>{"use strict";Object.defineProperty(Ne,"__esModule",{value:!0});Ne.CODE39=void 0;var ta=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),na=m(),ra=ia(na);function ia(t){return t&&t.__esModule?t:{default:t}}function oa(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aa(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function ua(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var ca=function(t){ua(e,t);function e(n,r){return oa(this,e),n=n.toUpperCase(),r.mod43&&(n+=sa(da(n))),aa(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return ta(e,[{key:"encode",value:function(){for(var r=mt("*"),i=0;i<this.data.length;i++)r+=mt(this.data[i])+"0";return r+=mt("*"),{data:r,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)!==-1}}]),e}(ra.default),Rr=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],fa=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];function mt(t){return la(Pr(t))}function la(t){return fa[t].toString(2)}function sa(t){return Rr[t]}function Pr(t){return Rr.indexOf(t)}function da(t){for(var e=0,n=0;n<t.length;n++)e+=Pr(t[n]);return e=e%43,e}Ne.CODE39=ca});var Y=f(_=>{"use strict";Object.defineProperty(_,"__esModule",{value:!0});var he;function wt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ir=_.SET_A=0,Br=_.SET_B=1,Lr=_.SET_C=2,h0=_.SHIFT=98,ha=_.START_A=103,ga=_.START_B=104,_a=_.START_C=105,g0=_.MODULO=103,_0=_.STOP=106,v0=_.FNC1=207,p0=_.SET_BY_CODE=(he={},wt(he,ha,Ir),wt(he,ga,Br),wt(he,_a,Lr),he),y0=_.SWAP={101:Ir,100:Br,99:Lr},E0=_.A_START_CHAR="\xD0",m0=_.B_START_CHAR="\xD1",w0=_.C_START_CHAR="\xD2",b0=_.A_CHARS="[\0-_\xC8-\xCF]",O0=_.B_CHARS="[ -\x7F\xC8-\xCF]",S0=_.C_CHARS="(\xCF*[0-9]{2}\xCF*)",x0=_.BARS=[11011001100,11001101100,11001100110,10010011e3,10010001100,10001001100,10011001e3,10011000100,10001100100,11001001e3,11001000100,11000100100,10110011100,10011011100,10011001110,10111001100,10011101100,10011100110,11001110010,11001011100,11001001110,11011100100,11001110100,11101101110,11101001100,11100101100,11100100110,11101100100,11100110100,11100110010,11011011e3,11011000110,11000110110,10100011e3,10001011e3,10001000110,10110001e3,10001101e3,10001100010,11010001e3,11000101e3,11000100010,10110111e3,10110001110,10001101110,10111011e3,10111000110,10001110110,11101110110,11010001110,11000101110,11011101e3,11011100010,11011101110,11101011e3,11101000110,11100010110,11101101e3,11101100010,11100011010,11101111010,11001000010,11110001010,1010011e4,10100001100,1001011e4,10010000110,10000101100,10000100110,1011001e4,10110000100,1001101e4,10011000010,10000110100,10000110010,11000010010,1100101e4,11110111010,11000010100,10001111010,10100111100,10010111100,10010011110,10111100100,10011110100,10011110010,11110100100,11110010100,11110010010,11011011110,11011110110,11110110110,10101111e3,10100011110,10001011110,10111101e3,10111100010,11110101e3,11110100010,10111011110,10111101110,11101011110,11110101110,11010000100,1101001e4,11010011100,1100011101011]});var ge=f(bt=>{"use strict";Object.defineProperty(bt,"__esModule",{value:!0});var va=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),pa=m(),ya=Ea(pa),w=Y();function Ea(t){return t&&t.__esModule?t:{default:t}}function ma(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wa(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function ba(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Oa=function(t){ba(e,t);function e(n,r){ma(this,e);var i=wa(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n.substring(1),r));return i.bytes=n.split("").map(function(o){return o.charCodeAt(0)}),i}return va(e,[{key:"valid",value:function(){return/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var r=this.bytes,i=r.shift()-105,o=w.SET_BY_CODE[i];if(o===void 0)throw new RangeError("The encoding does not start with a start character.");this.shouldEncodeAsEan128()===!0&&r.unshift(w.FNC1);var a=e.next(r,1,o);return{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:e.getBar(i)+a.result+e.getBar((a.checksum+i)%w.MODULO)+e.getBar(w.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var r=this.options.ean128||!1;return typeof r=="string"&&(r=r.toLowerCase()==="true"),r}}],[{key:"getBar",value:function(r){return w.BARS[r]?w.BARS[r].toString():""}},{key:"correctIndex",value:function(r,i){if(i===w.SET_A){var o=r.shift();return o<32?o+64:o-32}else return i===w.SET_B?r.shift()-32:(r.shift()-48)*10+r.shift()-48}},{key:"next",value:function(r,i,o){if(!r.length)return{result:"",checksum:0};var a=void 0,u=void 0;if(r[0]>=200){u=r.shift()-105;var c=w.SWAP[u];c!==void 0?a=e.next(r,i+1,c):((o===w.SET_A||o===w.SET_B)&&u===w.SHIFT&&(r[0]=o===w.SET_A?r[0]>95?r[0]-96:r[0]:r[0]<32?r[0]+96:r[0]),a=e.next(r,i+1,o))}else u=e.correctIndex(r,o),a=e.next(r,i+1,o);var l=e.getBar(u),s=u*i;return{result:l+a.result,checksum:s+a.checksum}}}]),e}(ya.default);bt.default=Oa});var jr=f(St=>{"use strict";Object.defineProperty(St,"__esModule",{value:!0});var k=Y(),Nr=function(e){return e.match(new RegExp("^"+k.A_CHARS+"*"))[0].length},kr=function(e){return e.match(new RegExp("^"+k.B_CHARS+"*"))[0].length},qr=function(e){return e.match(new RegExp("^"+k.C_CHARS+"*"))[0]};function Ot(t,e){var n=e?k.A_CHARS:k.B_CHARS,r=t.match(new RegExp("^("+n+"+?)(([0-9]{2}){2,})([^0-9]|$)"));if(r)return r[1]+"\xCC"+Dr(t.substring(r[1].length));var i=t.match(new RegExp("^"+n+"+"))[0];return i.length===t.length?t:i+String.fromCharCode(e?205:206)+Ot(t.substring(i.length),!e)}function Dr(t){var e=qr(t),n=e.length;if(n===t.length)return t;t=t.substring(n);var r=Nr(t)>=kr(t);return e+String.fromCharCode(r?206:205)+Ot(t,r)}St.default=function(t){var e=void 0,n=qr(t).length;if(n>=2)e=k.C_START_CHAR+Dr(t);else{var r=Nr(t)>kr(t);e=(r?k.A_START_CHAR:k.B_START_CHAR)+Ot(t,r)}return e.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,function(i,o){return"\xCB"+o})}});var Fr=f(At=>{"use strict";Object.defineProperty(At,"__esModule",{value:!0});var Sa=ge(),xa=Ur(Sa),Aa=jr(),Ca=Ur(Aa);function Ur(t){return t&&t.__esModule?t:{default:t}}function Ta(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xt(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Ra(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Pa=function(t){Ra(e,t);function e(n,r){if(Ta(this,e),/^[\x00-\x7F\xC8-\xD3]+$/.test(n))var i=xt(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,(0,Ca.default)(n),r));else var i=xt(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));return xt(i)}return e}(xa.default);At.default=Pa});var Gr=f(Ct=>{"use strict";Object.defineProperty(Ct,"__esModule",{value:!0});var Ma=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Ia=ge(),Ba=La(Ia),zr=Y();function La(t){return t&&t.__esModule?t:{default:t}}function Na(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ka(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function qa(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Da=function(t){qa(e,t);function e(n,r){return Na(this,e),ka(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,zr.A_START_CHAR+n,r))}return Ma(e,[{key:"valid",value:function(){return new RegExp("^"+zr.A_CHARS+"+$").test(this.data)}}]),e}(Ba.default);Ct.default=Da});var Vr=f(Tt=>{"use strict";Object.defineProperty(Tt,"__esModule",{value:!0});var ja=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Ua=ge(),Fa=za(Ua),Hr=Y();function za(t){return t&&t.__esModule?t:{default:t}}function Ga(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ha(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Va(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Xa=function(t){Va(e,t);function e(n,r){return Ga(this,e),Ha(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,Hr.B_START_CHAR+n,r))}return ja(e,[{key:"valid",value:function(){return new RegExp("^"+Hr.B_CHARS+"+$").test(this.data)}}]),e}(Fa.default);Tt.default=Xa});var $r=f(Rt=>{"use strict";Object.defineProperty(Rt,"__esModule",{value:!0});var $a=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Ja=ge(),Ka=Ya(Ja),Xr=Y();function Ya(t){return t&&t.__esModule?t:{default:t}}function Qa(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wa(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Za(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var eu=function(t){Za(e,t);function e(n,r){return Qa(this,e),Wa(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,Xr.C_START_CHAR+n,r))}return $a(e,[{key:"valid",value:function(){return new RegExp("^"+Xr.C_CHARS+"+$").test(this.data)}}]),e}(Ka.default);Rt.default=eu});var Jr=f(C=>{"use strict";Object.defineProperty(C,"__esModule",{value:!0});C.CODE128C=C.CODE128B=C.CODE128A=C.CODE128=void 0;var tu=Fr(),nu=ke(tu),ru=Gr(),iu=ke(ru),ou=Vr(),au=ke(ou),uu=$r(),cu=ke(uu);function ke(t){return t&&t.__esModule?t:{default:t}}C.CODE128=nu.default;C.CODE128A=iu.default;C.CODE128B=au.default;C.CODE128C=cu.default});var Q=f(q=>{"use strict";Object.defineProperty(q,"__esModule",{value:!0});var L0=q.SIDE_BIN="101",N0=q.MIDDLE_BIN="01010",k0=q.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]},q0=q.EAN2_STRUCTURE=["LL","LG","GL","GG"],D0=q.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"],j0=q.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"]});var W=f(Pt=>{"use strict";Object.defineProperty(Pt,"__esModule",{value:!0});var fu=Q(),lu=function(e,n,r){var i=e.split("").map(function(a,u){return fu.BINARIES[n[u]]}).map(function(a,u){return a?a[e[u]]:""});if(r){var o=e.length-1;i=i.map(function(a,u){return u<o?a+r:a})}return i.join("")};Pt.default=lu});var It=f(Mt=>{"use strict";Object.defineProperty(Mt,"__esModule",{value:!0});var su=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Z=Q(),du=W(),Kr=Yr(du),hu=m(),gu=Yr(hu);function Yr(t){return t&&t.__esModule?t:{default:t}}function _u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vu(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function pu(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var yu=function(t){pu(e,t);function e(n,r){_u(this,e);var i=vu(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));return i.fontSize=!r.flat&&r.fontSize>r.width*10?r.width*10:r.fontSize,i.guardHeight=r.height+i.fontSize/2+r.textMargin,i}return su(e,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(r,i){return this.text.substr(r,i)}},{key:"leftEncode",value:function(r,i){return(0,Kr.default)(r,i)}},{key:"rightText",value:function(r,i){return this.text.substr(r,i)}},{key:"rightEncode",value:function(r,i){return(0,Kr.default)(r,i)}},{key:"encodeGuarded",value:function(){var r={fontSize:this.fontSize},i={height:this.guardHeight};return[{data:Z.SIDE_BIN,options:i},{data:this.leftEncode(),text:this.leftText(),options:r},{data:Z.MIDDLE_BIN,options:i},{data:this.rightEncode(),text:this.rightText(),options:r},{data:Z.SIDE_BIN,options:i}]}},{key:"encodeFlat",value:function(){var r=[Z.SIDE_BIN,this.leftEncode(),Z.MIDDLE_BIN,this.rightEncode(),Z.SIDE_BIN];return{data:r.join(""),text:this.text}}}]),e}(gu.default);Mt.default=yu});var Wr=f(Bt=>{"use strict";Object.defineProperty(Bt,"__esModule",{value:!0});var Eu=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),_e=function t(e,n,r){e===null&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(i===void 0){var o=Object.getPrototypeOf(e);return o===null?void 0:t(o,n,r)}else{if("value"in i)return i.value;var a=i.get;return a===void 0?void 0:a.call(r)}},mu=Q(),wu=It(),bu=Ou(wu);function Ou(t){return t&&t.__esModule?t:{default:t}}function Su(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xu(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Au(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Qr=function(e){var n=e.substr(0,12).split("").map(function(r){return+r}).reduce(function(r,i,o){return o%2?r+i*3:r+i},0);return(10-n%10)%10},Cu=function(t){Au(e,t);function e(n,r){Su(this,e),n.search(/^[0-9]{12}$/)!==-1&&(n+=Qr(n));var i=xu(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));return i.lastChar=r.lastChar,i}return Eu(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{13}$/)!==-1&&+this.data[12]===Qr(this.data)}},{key:"leftText",value:function(){return _e(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var r=this.data.substr(1,6),i=mu.EAN13_STRUCTURE[this.data[0]];return _e(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftEncode",this).call(this,r,i)}},{key:"rightText",value:function(){return _e(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var r=this.data.substr(7,6);return _e(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightEncode",this).call(this,r,"RRRRRR")}},{key:"encodeGuarded",value:function(){var r=_e(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(r.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(r.push({data:"00"}),r.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),r}}]),e}(bu.default);Bt.default=Cu});var ei=f(Lt=>{"use strict";Object.defineProperty(Lt,"__esModule",{value:!0});var Tu=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),qe=function t(e,n,r){e===null&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(i===void 0){var o=Object.getPrototypeOf(e);return o===null?void 0:t(o,n,r)}else{if("value"in i)return i.value;var a=i.get;return a===void 0?void 0:a.call(r)}},Ru=It(),Pu=Mu(Ru);function Mu(t){return t&&t.__esModule?t:{default:t}}function Iu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bu(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Lu(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Zr=function(e){var n=e.substr(0,7).split("").map(function(r){return+r}).reduce(function(r,i,o){return o%2?r+i:r+i*3},0);return(10-n%10)%10},Nu=function(t){Lu(e,t);function e(n,r){return Iu(this,e),n.search(/^[0-9]{7}$/)!==-1&&(n+=Zr(n)),Bu(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return Tu(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{8}$/)!==-1&&+this.data[7]===Zr(this.data)}},{key:"leftText",value:function(){return qe(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var r=this.data.substr(0,4);return qe(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftEncode",this).call(this,r,"LLLL")}},{key:"rightText",value:function(){return qe(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var r=this.data.substr(4,4);return qe(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightEncode",this).call(this,r,"RRRR")}}]),e}(Pu.default);Lt.default=Nu});var ni=f(Nt=>{"use strict";Object.defineProperty(Nt,"__esModule",{value:!0});var ku=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),qu=Q(),Du=W(),ju=ti(Du),Uu=m(),Fu=ti(Uu);function ti(t){return t&&t.__esModule?t:{default:t}}function zu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gu(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Hu(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Vu=function(e){var n=e.split("").map(function(r){return+r}).reduce(function(r,i,o){return o%2?r+i*9:r+i*3},0);return n%10},Xu=function(t){Hu(e,t);function e(n,r){return zu(this,e),Gu(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return ku(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{5}$/)!==-1}},{key:"encode",value:function(){var r=qu.EAN5_STRUCTURE[Vu(this.data)];return{data:"1011"+(0,ju.default)(this.data,r,"01"),text:this.text}}}]),e}(Fu.default);Nt.default=Xu});var ii=f(kt=>{"use strict";Object.defineProperty(kt,"__esModule",{value:!0});var $u=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Ju=Q(),Ku=W(),Yu=ri(Ku),Qu=m(),Wu=ri(Qu);function ri(t){return t&&t.__esModule?t:{default:t}}function Zu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ec(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function tc(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var nc=function(t){tc(e,t);function e(n,r){return Zu(this,e),ec(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return $u(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{2}$/)!==-1}},{key:"encode",value:function(){var r=Ju.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,Yu.default)(this.data,r,"01"),text:this.text}}}]),e}(Wu.default);kt.default=nc});var Dt=f(De=>{"use strict";Object.defineProperty(De,"__esModule",{value:!0});var rc=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();De.checksum=qt;var ic=W(),ee=oi(ic),oc=m(),ac=oi(oc);function oi(t){return t&&t.__esModule?t:{default:t}}function uc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cc(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function fc(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var lc=function(t){fc(e,t);function e(n,r){uc(this,e),n.search(/^[0-9]{11}$/)!==-1&&(n+=qt(n));var i=cc(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));return i.displayValue=r.displayValue,r.fontSize>r.width*10?i.fontSize=r.width*10:i.fontSize=r.fontSize,i.guardHeight=r.height+i.fontSize/2+r.textMargin,i}return rc(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{12}$/)!==-1&&this.data[11]==qt(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var r="";return r+="101",r+=(0,ee.default)(this.data.substr(0,6),"LLLLLL"),r+="01010",r+=(0,ee.default)(this.data.substr(6,6),"RRRRRR"),r+="101",{data:r,text:this.text}}},{key:"guardedEncoding",value:function(){var r=[];return this.displayValue&&r.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),r.push({data:"101"+(0,ee.default)(this.data[0],"L"),options:{height:this.guardHeight}}),r.push({data:(0,ee.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),r.push({data:"01010",options:{height:this.guardHeight}}),r.push({data:(0,ee.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),r.push({data:(0,ee.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&r.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),r}}]),e}(ac.default);function qt(t){var e=0,n;for(n=1;n<11;n+=2)e+=parseInt(t[n]);for(n=0;n<11;n+=2)e+=parseInt(t[n])*3;return(10-e%10)%10}De.default=lc});var ci=f(Ut=>{"use strict";Object.defineProperty(Ut,"__esModule",{value:!0});var sc=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),dc=W(),hc=ui(dc),gc=m(),_c=ui(gc),vc=Dt();function ui(t){return t&&t.__esModule?t:{default:t}}function pc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jt(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function yc(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Ec=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],mc=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],wc=function(t){yc(e,t);function e(n,r){pc(this,e);var i=jt(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));if(i.isValid=!1,n.search(/^[0-9]{6}$/)!==-1)i.middleDigits=n,i.upcA=ai(n,"0"),i.text=r.text||""+i.upcA[0]+n+i.upcA[i.upcA.length-1],i.isValid=!0;else if(n.search(/^[01][0-9]{7}$/)!==-1)if(i.middleDigits=n.substring(1,n.length-1),i.upcA=ai(i.middleDigits,n[0]),i.upcA[i.upcA.length-1]===n[n.length-1])i.isValid=!0;else return jt(i);else return jt(i);return i.displayValue=r.displayValue,r.fontSize>r.width*10?i.fontSize=r.width*10:i.fontSize=r.fontSize,i.guardHeight=r.height+i.fontSize/2+r.textMargin,i}return sc(e,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var r="";return r+="101",r+=this.encodeMiddleDigits(),r+="010101",{data:r,text:this.text}}},{key:"guardedEncoding",value:function(){var r=[];return this.displayValue&&r.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),r.push({data:"101",options:{height:this.guardHeight}}),r.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),r.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&r.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),r}},{key:"encodeMiddleDigits",value:function(){var r=this.upcA[0],i=this.upcA[this.upcA.length-1],o=mc[parseInt(i)][parseInt(r)];return(0,hc.default)(this.middleDigits,o)}}]),e}(_c.default);function ai(t,e){for(var n=parseInt(t[t.length-1]),r=Ec[n],i="",o=0,a=0;a<r.length;a++){var u=r[a];u==="X"?i+=t[o++]:i+=u}return i=""+e+i,""+i+(0,vc.checksum)(i)}Ut.default=wc});var fi=f(y=>{"use strict";Object.defineProperty(y,"__esModule",{value:!0});y.UPCE=y.UPC=y.EAN2=y.EAN5=y.EAN8=y.EAN13=void 0;var bc=Wr(),Oc=te(bc),Sc=ei(),xc=te(Sc),Ac=ni(),Cc=te(Ac),Tc=ii(),Rc=te(Tc),Pc=Dt(),Mc=te(Pc),Ic=ci(),Bc=te(Ic);function te(t){return t&&t.__esModule?t:{default:t}}y.EAN13=Oc.default;y.EAN8=xc.default;y.EAN5=Cc.default;y.EAN2=Rc.default;y.UPC=Mc.default;y.UPCE=Bc.default});var li=f(ve=>{"use strict";Object.defineProperty(ve,"__esModule",{value:!0});var Y0=ve.START_BIN="1010",Q0=ve.END_BIN="11101",W0=ve.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"]});var zt=f(Ft=>{"use strict";Object.defineProperty(Ft,"__esModule",{value:!0});var Lc=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),je=li(),Nc=m(),kc=qc(Nc);function qc(t){return t&&t.__esModule?t:{default:t}}function Dc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jc(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Uc(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Fc=function(t){Uc(e,t);function e(){return Dc(this,e),jc(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Lc(e,[{key:"valid",value:function(){return this.data.search(/^([0-9]{2})+$/)!==-1}},{key:"encode",value:function(){var r=this,i=this.data.match(/.{2}/g).map(function(o){return r.encodePair(o)}).join("");return{data:je.START_BIN+i+je.END_BIN,text:this.text}}},{key:"encodePair",value:function(r){var i=je.BINARIES[r[1]];return je.BINARIES[r[0]].split("").map(function(o,a){return(o==="1"?"111":"1")+(i[a]==="1"?"000":"0")}).join("")}}]),e}(kc.default);Ft.default=Fc});var di=f(Gt=>{"use strict";Object.defineProperty(Gt,"__esModule",{value:!0});var zc=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Gc=zt(),Hc=Vc(Gc);function Vc(t){return t&&t.__esModule?t:{default:t}}function Xc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Jc(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var si=function(e){var n=e.substr(0,13).split("").map(function(r){return parseInt(r,10)}).reduce(function(r,i,o){return r+i*(3-o%2*2)},0);return Math.ceil(n/10)*10-n},Kc=function(t){Jc(e,t);function e(n,r){return Xc(this,e),n.search(/^[0-9]{13}$/)!==-1&&(n+=si(n)),$c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return zc(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{14}$/)!==-1&&+this.data[13]===si(this.data)}}]),e}(Hc.default);Gt.default=Kc});var gi=f(ne=>{"use strict";Object.defineProperty(ne,"__esModule",{value:!0});ne.ITF14=ne.ITF=void 0;var Yc=zt(),Qc=hi(Yc),Wc=di(),Zc=hi(Wc);function hi(t){return t&&t.__esModule?t:{default:t}}ne.ITF=Qc.default;ne.ITF14=Zc.default});var re=f(Ht=>{"use strict";Object.defineProperty(Ht,"__esModule",{value:!0});var ef=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),tf=m(),nf=rf(tf);function rf(t){return t&&t.__esModule?t:{default:t}}function of(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function af(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function uf(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var cf=function(t){uf(e,t);function e(n,r){return of(this,e),af(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return ef(e,[{key:"encode",value:function(){for(var r="110",i=0;i<this.data.length;i++){var o=parseInt(this.data[i]),a=o.toString(2);a=ff(a,4-a.length);for(var u=0;u<a.length;u++)r+=a[u]=="0"?"100":"110"}return r+="1001",{data:r,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9]+$/)!==-1}}]),e}(nf.default);function ff(t,e){for(var n=0;n<e;n++)t="0"+t;return t}Ht.default=cf});var pe=f(Ue=>{"use strict";Object.defineProperty(Ue,"__esModule",{value:!0});Ue.mod10=lf;Ue.mod11=sf;function lf(t){for(var e=0,n=0;n<t.length;n++){var r=parseInt(t[n]);(n+t.length)%2===0?e+=r:e+=r*2%10+Math.floor(r*2/10)}return(10-e%10)%10}function sf(t){for(var e=0,n=[2,3,4,5,6,7],r=0;r<t.length;r++){var i=parseInt(t[t.length-1-r]);e+=n[r%n.length]*i}return(11-e%11)%11}});var _i=f(Vt=>{"use strict";Object.defineProperty(Vt,"__esModule",{value:!0});var df=re(),hf=_f(df),gf=pe();function _f(t){return t&&t.__esModule?t:{default:t}}function vf(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pf(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function yf(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Ef=function(t){yf(e,t);function e(n,r){return vf(this,e),pf(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n+(0,gf.mod10)(n),r))}return e}(hf.default);Vt.default=Ef});var vi=f(Xt=>{"use strict";Object.defineProperty(Xt,"__esModule",{value:!0});var mf=re(),wf=Of(mf),bf=pe();function Of(t){return t&&t.__esModule?t:{default:t}}function Sf(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xf(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Af(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Cf=function(t){Af(e,t);function e(n,r){return Sf(this,e),xf(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n+(0,bf.mod11)(n),r))}return e}(wf.default);Xt.default=Cf});var yi=f($t=>{"use strict";Object.defineProperty($t,"__esModule",{value:!0});var Tf=re(),Rf=Pf(Tf),pi=pe();function Pf(t){return t&&t.__esModule?t:{default:t}}function Mf(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function If(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Bf(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Lf=function(t){Bf(e,t);function e(n,r){return Mf(this,e),n+=(0,pi.mod10)(n),n+=(0,pi.mod10)(n),If(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return e}(Rf.default);$t.default=Lf});var mi=f(Jt=>{"use strict";Object.defineProperty(Jt,"__esModule",{value:!0});var Nf=re(),kf=qf(Nf),Ei=pe();function qf(t){return t&&t.__esModule?t:{default:t}}function Df(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jf(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Uf(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Ff=function(t){Uf(e,t);function e(n,r){return Df(this,e),n+=(0,Ei.mod11)(n),n+=(0,Ei.mod10)(n),jf(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return e}(kf.default);Jt.default=Ff});var wi=f(O=>{"use strict";Object.defineProperty(O,"__esModule",{value:!0});O.MSI1110=O.MSI1010=O.MSI11=O.MSI10=O.MSI=void 0;var zf=re(),Gf=ye(zf),Hf=_i(),Vf=ye(Hf),Xf=vi(),$f=ye(Xf),Jf=yi(),Kf=ye(Jf),Yf=mi(),Qf=ye(Yf);function ye(t){return t&&t.__esModule?t:{default:t}}O.MSI=Gf.default;O.MSI10=Vf.default;O.MSI11=$f.default;O.MSI1010=Kf.default;O.MSI1110=Qf.default});var bi=f(Fe=>{"use strict";Object.defineProperty(Fe,"__esModule",{value:!0});Fe.pharmacode=void 0;var Wf=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Zf=m(),el=tl(Zf);function tl(t){return t&&t.__esModule?t:{default:t}}function nl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rl(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function il(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var ol=function(t){il(e,t);function e(n,r){nl(this,e);var i=rl(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));return i.number=parseInt(n,10),i}return Wf(e,[{key:"encode",value:function(){for(var r=this.number,i="";!isNaN(r)&&r!=0;)r%2===0?(i="11100"+i,r=(r-2)/2):(i="100"+i,r=(r-1)/2);return i=i.slice(0,-2),{data:i,text:this.text}}},{key:"valid",value:function(){return this.number>=3&&this.number<=131070}}]),e}(el.default);Fe.pharmacode=ol});var Oi=f(ze=>{"use strict";Object.defineProperty(ze,"__esModule",{value:!0});ze.codabar=void 0;var al=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),ul=m(),cl=fl(ul);function fl(t){return t&&t.__esModule?t:{default:t}}function ll(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sl(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function dl(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var hl=function(t){dl(e,t);function e(n,r){ll(this,e),n.search(/^[0-9\-\$\:\.\+\/]+$/)===0&&(n="A"+n+"A");var i=sl(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n.toUpperCase(),r));return i.text=i.options.text||i.text.replace(/[A-D]/g,""),i}return al(e,[{key:"valid",value:function(){return this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)!==-1}},{key:"encode",value:function(){for(var r=[],i=this.getEncodings(),o=0;o<this.data.length;o++)r.push(i[this.data.charAt(o)]),o!==this.data.length-1&&r.push("0");return{text:this.text,data:r.join("")}}},{key:"getEncodings",value:function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"1011011011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),e}(cl.default);ze.codabar=hl});var Si=f(Ge=>{"use strict";Object.defineProperty(Ge,"__esModule",{value:!0});Ge.GenericBarcode=void 0;var gl=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),_l=m(),vl=pl(_l);function pl(t){return t&&t.__esModule?t:{default:t}}function yl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function El(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function ml(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var wl=function(t){ml(e,t);function e(n,r){return yl(this,e),El(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return gl(e,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),e}(vl.default);Ge.GenericBarcode=wl});var Ai=f(Kt=>{"use strict";Object.defineProperty(Kt,"__esModule",{value:!0});var bl=Mr(),He=Jr(),ie=fi(),xi=gi(),Ee=wi(),Ol=bi(),Sl=Oi(),xl=Si();Kt.default={CODE39:bl.CODE39,CODE128:He.CODE128,CODE128A:He.CODE128A,CODE128B:He.CODE128B,CODE128C:He.CODE128C,EAN13:ie.EAN13,EAN8:ie.EAN8,EAN5:ie.EAN5,EAN2:ie.EAN2,UPC:ie.UPC,UPCE:ie.UPCE,ITF14:xi.ITF14,ITF:xi.ITF,MSI:Ee.MSI,MSI10:Ee.MSI10,MSI11:Ee.MSI11,MSI1010:Ee.MSI1010,MSI1110:Ee.MSI1110,pharmacode:Ol.pharmacode,codabar:Sl.codabar,GenericBarcode:xl.GenericBarcode}});var me=f(Yt=>{"use strict";Object.defineProperty(Yt,"__esModule",{value:!0});var Al=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};Yt.default=function(t,e){return Al({},t,e)}});var Ci=f(Qt=>{"use strict";Object.defineProperty(Qt,"__esModule",{value:!0});Qt.default=Cl;function Cl(t){var e=[];function n(r){if(Array.isArray(r))for(var i=0;i<r.length;i++)n(r[i]);else r.text=r.text||"",r.data=r.data||"",e.push(r)}return n(t),e}});var Ti=f(Wt=>{"use strict";Object.defineProperty(Wt,"__esModule",{value:!0});Wt.default=Tl;function Tl(t){return t.marginTop=t.marginTop||t.margin,t.marginBottom=t.marginBottom||t.margin,t.marginRight=t.marginRight||t.margin,t.marginLeft=t.marginLeft||t.margin,t}});var en=f(Zt=>{"use strict";Object.defineProperty(Zt,"__esModule",{value:!0});Zt.default=Rl;function Rl(t){var e=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var n in e)e.hasOwnProperty(n)&&(n=e[n],typeof t[n]=="string"&&(t[n]=parseInt(t[n],10)));return typeof t.displayValue=="string"&&(t.displayValue=t.displayValue!="false"),t}});var nn=f(tn=>{"use strict";Object.defineProperty(tn,"__esModule",{value:!0});var Pl={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}};tn.default=Pl});var Mi=f(rn=>{"use strict";Object.defineProperty(rn,"__esModule",{value:!0});var Ml=en(),Il=Pi(Ml),Bl=nn(),Ri=Pi(Bl);function Pi(t){return t&&t.__esModule?t:{default:t}}function Ll(t){var e={};for(var n in Ri.default)Ri.default.hasOwnProperty(n)&&(t.hasAttribute("jsbarcode-"+n.toLowerCase())&&(e[n]=t.getAttribute("jsbarcode-"+n.toLowerCase())),t.hasAttribute("data-"+n.toLowerCase())&&(e[n]=t.getAttribute("data-"+n.toLowerCase())));return e.value=t.getAttribute("jsbarcode-value")||t.getAttribute("data-value"),e=(0,Il.default)(e),e}rn.default=Ll});var on=f(S=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0});S.getTotalWidthOfEncodings=S.calculateEncodingAttributes=S.getBarcodePadding=S.getEncodingHeight=S.getMaximumHeightOfEncodings=void 0;var Nl=me(),kl=ql(Nl);function ql(t){return t&&t.__esModule?t:{default:t}}function Ii(t,e){return e.height+(e.displayValue&&t.text.length>0?e.fontSize+e.textMargin:0)+e.marginTop+e.marginBottom}function Bi(t,e,n){if(n.displayValue&&e<t){if(n.textAlign=="center")return Math.floor((t-e)/2);if(n.textAlign=="left")return 0;if(n.textAlign=="right")return Math.floor(t-e)}return 0}function Dl(t,e,n){for(var r=0;r<t.length;r++){var i=t[r],o=(0,kl.default)(e,i.options),a;o.displayValue?a=Fl(i.text,o,n):a=0;var u=i.data.length*o.width;i.width=Math.ceil(Math.max(a,u)),i.height=Ii(i,o),i.barcodePadding=Bi(a,u,o)}}function jl(t){for(var e=0,n=0;n<t.length;n++)e+=t[n].width;return e}function Ul(t){for(var e=0,n=0;n<t.length;n++)t[n].height>e&&(e=t[n].height);return e}function Fl(t,e,n){var r;if(n)r=n;else if(typeof document<"u")r=document.createElement("canvas").getContext("2d");else return 0;r.font=e.fontOptions+" "+e.fontSize+"px "+e.font;var i=r.measureText(t);if(!i)return 0;var o=i.width;return o}S.getMaximumHeightOfEncodings=Ul;S.getEncodingHeight=Ii;S.getBarcodePadding=Bi;S.calculateEncodingAttributes=Dl;S.getTotalWidthOfEncodings=jl});var Li=f(un=>{"use strict";Object.defineProperty(un,"__esModule",{value:!0});var zl=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Gl=me(),Hl=Vl(Gl),an=on();function Vl(t){return t&&t.__esModule?t:{default:t}}function Xl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var $l=function(){function t(e,n,r){Xl(this,t),this.canvas=e,this.encodings=n,this.options=r}return zl(t,[{key:"render",value:function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var n=0;n<this.encodings.length;n++){var r=(0,Hl.default)(this.options,this.encodings[n].options);this.drawCanvasBarcode(r,this.encodings[n]),this.drawCanvasText(r,this.encodings[n]),this.moveCanvasDrawing(this.encodings[n])}this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var n=this.canvas.getContext("2d");n.save(),(0,an.calculateEncodingAttributes)(this.encodings,this.options,n);var r=(0,an.getTotalWidthOfEncodings)(this.encodings),i=(0,an.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=r+this.options.marginLeft+this.options.marginRight,this.canvas.height=i,n.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(n.fillStyle=this.options.background,n.fillRect(0,0,this.canvas.width,this.canvas.height)),n.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(n,r){var i=this.canvas.getContext("2d"),o=r.data,a;n.textPosition=="top"?a=n.marginTop+n.fontSize+n.textMargin:a=n.marginTop,i.fillStyle=n.lineColor;for(var u=0;u<o.length;u++){var c=u*n.width+r.barcodePadding;o[u]==="1"?i.fillRect(c,a,n.width,n.height):o[u]&&i.fillRect(c,a,n.width,n.height*o[u])}}},{key:"drawCanvasText",value:function(n,r){var i=this.canvas.getContext("2d"),o=n.fontOptions+" "+n.fontSize+"px "+n.font;if(n.displayValue){var a,u;n.textPosition=="top"?u=n.marginTop+n.fontSize-n.textMargin:u=n.height+n.textMargin+n.marginTop+n.fontSize,i.font=o,n.textAlign=="left"||r.barcodePadding>0?(a=0,i.textAlign="left"):n.textAlign=="right"?(a=r.width-1,i.textAlign="right"):(a=r.width/2,i.textAlign="center"),i.fillText(r.text,a,u)}}},{key:"moveCanvasDrawing",value:function(n){var r=this.canvas.getContext("2d");r.translate(n.width,0)}},{key:"restoreCanvas",value:function(){var n=this.canvas.getContext("2d");n.restore()}}]),t}();un.default=$l});var Ni=f(fn=>{"use strict";Object.defineProperty(fn,"__esModule",{value:!0});var Jl=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Kl=me(),Yl=Ql(Kl),cn=on();function Ql(t){return t&&t.__esModule?t:{default:t}}function Wl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Ve="http://www.w3.org/2000/svg",Zl=function(){function t(e,n,r){Wl(this,t),this.svg=e,this.encodings=n,this.options=r,this.document=r.xmlDocument||document}return Jl(t,[{key:"render",value:function(){var n=this.options.marginLeft;this.prepareSVG();for(var r=0;r<this.encodings.length;r++){var i=this.encodings[r],o=(0,Yl.default)(this.options,i.options),a=this.createGroup(n,o.marginTop,this.svg);this.setGroupOptions(a,o),this.drawSvgBarcode(a,o,i),this.drawSVGText(a,o,i),n+=i.width}}},{key:"prepareSVG",value:function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,cn.calculateEncodingAttributes)(this.encodings,this.options);var n=(0,cn.getTotalWidthOfEncodings)(this.encodings),r=(0,cn.getMaximumHeightOfEncodings)(this.encodings),i=n+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(i,r),this.options.background&&this.drawRect(0,0,i,r,this.svg).setAttribute("style","fill:"+this.options.background+";")}},{key:"drawSvgBarcode",value:function(n,r,i){var o=i.data,a;r.textPosition=="top"?a=r.fontSize+r.textMargin:a=0;for(var u=0,c=0,l=0;l<o.length;l++)c=l*r.width+i.barcodePadding,o[l]==="1"?u++:u>0&&(this.drawRect(c-r.width*u,a,r.width*u,r.height,n),u=0);u>0&&this.drawRect(c-r.width*(u-1),a,r.width*u,r.height,n)}},{key:"drawSVGText",value:function(n,r,i){var o=this.document.createElementNS(Ve,"text");if(r.displayValue){var a,u;o.setAttribute("style","font:"+r.fontOptions+" "+r.fontSize+"px "+r.font),r.textPosition=="top"?u=r.fontSize-r.textMargin:u=r.height+r.textMargin+r.fontSize,r.textAlign=="left"||i.barcodePadding>0?(a=0,o.setAttribute("text-anchor","start")):r.textAlign=="right"?(a=i.width-1,o.setAttribute("text-anchor","end")):(a=i.width/2,o.setAttribute("text-anchor","middle")),o.setAttribute("x",a),o.setAttribute("y",u),o.appendChild(this.document.createTextNode(i.text)),n.appendChild(o)}}},{key:"setSvgAttributes",value:function(n,r){var i=this.svg;i.setAttribute("width",n+"px"),i.setAttribute("height",r+"px"),i.setAttribute("x","0px"),i.setAttribute("y","0px"),i.setAttribute("viewBox","0 0 "+n+" "+r),i.setAttribute("xmlns",Ve),i.setAttribute("version","1.1"),i.setAttribute("style","transform: translate(0,0)")}},{key:"createGroup",value:function(n,r,i){var o=this.document.createElementNS(Ve,"g");return o.setAttribute("transform","translate("+n+", "+r+")"),i.appendChild(o),o}},{key:"setGroupOptions",value:function(n,r){n.setAttribute("style","fill:"+r.lineColor+";")}},{key:"drawRect",value:function(n,r,i,o,a){var u=this.document.createElementNS(Ve,"rect");return u.setAttribute("x",n),u.setAttribute("y",r),u.setAttribute("width",i),u.setAttribute("height",o),a.appendChild(u),u}}]),t}();fn.default=Zl});var ki=f(ln=>{"use strict";Object.defineProperty(ln,"__esModule",{value:!0});var es=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function ts(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var ns=function(){function t(e,n,r){ts(this,t),this.object=e,this.encodings=n,this.options=r}return es(t,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),t}();ln.default=ns});var qi=f(dn=>{"use strict";Object.defineProperty(dn,"__esModule",{value:!0});var rs=Li(),is=sn(rs),os=Ni(),as=sn(os),us=ki(),cs=sn(us);function sn(t){return t&&t.__esModule?t:{default:t}}dn.default={CanvasRenderer:is.default,SVGRenderer:as.default,ObjectRenderer:cs.default}});var vn=f(we=>{"use strict";Object.defineProperty(we,"__esModule",{value:!0});function hn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function _n(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var fs=function(t){_n(e,t);function e(n,r){hn(this,e);var i=gn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return i.name="InvalidInputException",i.symbology=n,i.input=r,i.message='"'+i.input+'" is not a valid input for '+i.symbology,i}return e}(Error),ls=function(t){_n(e,t);function e(){hn(this,e);var n=gn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.name="InvalidElementException",n.message="Not supported type to render on",n}return e}(Error),ss=function(t){_n(e,t);function e(){hn(this,e);var n=gn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.name="NoElementException",n.message="No element to render on.",n}return e}(Error);we.InvalidInputException=fs;we.InvalidElementException=ls;we.NoElementException=ss});var ji=f(En=>{"use strict";Object.defineProperty(En,"__esModule",{value:!0});var ds=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hs=Mi(),pn=Di(hs),gs=qi(),be=Di(gs),_s=vn();function Di(t){return t&&t.__esModule?t:{default:t}}function yn(t){if(typeof t=="string")return vs(t);if(Array.isArray(t)){for(var e=[],n=0;n<t.length;n++)e.push(yn(t[n]));return e}else{if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLImageElement)return ps(t);if(t&&t.nodeName&&t.nodeName.toLowerCase()==="svg"||typeof SVGElement<"u"&&t instanceof SVGElement)return{element:t,options:(0,pn.default)(t),renderer:be.default.SVGRenderer};if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement)return{element:t,options:(0,pn.default)(t),renderer:be.default.CanvasRenderer};if(t&&t.getContext)return{element:t,renderer:be.default.CanvasRenderer};if(t&&(typeof t>"u"?"undefined":ds(t))==="object"&&!t.nodeName)return{element:t,renderer:be.default.ObjectRenderer};throw new _s.InvalidElementException}}function vs(t){var e=document.querySelectorAll(t);if(e.length!==0){for(var n=[],r=0;r<e.length;r++)n.push(yn(e[r]));return n}}function ps(t){var e=document.createElement("canvas");return{element:e,options:(0,pn.default)(t),renderer:be.default.CanvasRenderer,afterRender:function(){t.setAttribute("src",e.toDataURL())}}}En.default=yn});var Ui=f(mn=>{"use strict";Object.defineProperty(mn,"__esModule",{value:!0});var ys=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function Es(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var ms=function(){function t(e){Es(this,t),this.api=e}return ys(t,[{key:"handleCatch",value:function(n){if(n.name==="InvalidInputException")if(this.api._options.valid!==this.api._defaults.valid)this.api._options.valid(!1);else throw n.message;else throw n;this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(n){try{var r=n.apply(void 0,arguments);return this.api._options.valid(!0),r}catch(i){return this.handleCatch(i),this.api}}}]),t}();mn.default=ms});var Ji=f((Td,$i)=>{"use strict";var ws=Ai(),G=D(ws),bs=me(),Oe=D(bs),Os=Ci(),zi=D(Os),Ss=Ti(),Fi=D(Ss),xs=ji(),As=D(xs),Cs=en(),Ts=D(Cs),Rs=Ui(),Ps=D(Rs),Gi=vn(),Ms=nn(),Hi=D(Ms);function D(t){return t&&t.__esModule?t:{default:t}}var M=function(){},Xe=function(e,n,r){var i=new M;if(typeof e>"u")throw Error("No element to render on was provided.");return i._renderProperties=(0,As.default)(e),i._encodings=[],i._options=Hi.default,i._errorHandler=new Ps.default(i),typeof n<"u"&&(r=r||{},r.format||(r.format=Xi()),i.options(r)[r.format](n,r).render()),i};Xe.getModule=function(t){return G.default[t]};for(wn in G.default)G.default.hasOwnProperty(wn)&&Is(G.default,wn);var wn;function Is(t,e){M.prototype[e]=M.prototype[e.toUpperCase()]=M.prototype[e.toLowerCase()]=function(n,r){var i=this;return i._errorHandler.wrapBarcodeCall(function(){r.text=typeof r.text>"u"?void 0:""+r.text;var o=(0,Oe.default)(i._options,r);o=(0,Ts.default)(o);var a=t[e],u=Vi(n,a,o);return i._encodings.push(u),i})}}function Vi(t,e,n){t=""+t;var r=new e(t,n);if(!r.valid())throw new Gi.InvalidInputException(r.constructor.name,t);var i=r.encode();i=(0,zi.default)(i);for(var o=0;o<i.length;o++)i[o].options=(0,Oe.default)(n,i[o].options);return i}function Xi(){return G.default.CODE128?"CODE128":Object.keys(G.default)[0]}M.prototype.options=function(t){return this._options=(0,Oe.default)(this._options,t),this};M.prototype.blank=function(t){var e=new Array(t+1).join("0");return this._encodings.push({data:e}),this};M.prototype.init=function(){if(this._renderProperties){Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]);var t;for(var e in this._renderProperties){t=this._renderProperties[e];var n=(0,Oe.default)(this._options,t.options);n.format=="auto"&&(n.format=Xi()),this._errorHandler.wrapBarcodeCall(function(){var r=n.value,i=G.default[n.format.toUpperCase()],o=Vi(r,i,n);bn(t,o,n)})}}};M.prototype.render=function(){if(!this._renderProperties)throw new Gi.NoElementException;if(Array.isArray(this._renderProperties))for(var t=0;t<this._renderProperties.length;t++)bn(this._renderProperties[t],this._encodings,this._options);else bn(this._renderProperties,this._encodings,this._options);return this};M.prototype._defaults=Hi.default;function bn(t,e,n){e=(0,zi.default)(e);for(var r=0;r<e.length;r++)e[r].options=(0,Oe.default)(n,e[r].options),(0,Fi.default)(e[r].options);(0,Fi.default)(n);var i=t.renderer,o=new i(t.element,e,n);o.render(),t.afterRender&&t.afterRender()}typeof window<"u"&&(window.JsBarcode=Xe);typeof jQuery<"u"&&(jQuery.fn.JsBarcode=function(t,e){var n=[];return jQuery(this).each(function(){n.push(this)}),Xe(n,t,e)});$i.exports=Xe});var Yi=Tn(Tr()),Qi=Tn(Ji());var Ki=`.tabs {\r
	display: flex;\r
	justify-content: space-around;\r
	margin-top: 8px;\r
}\r
\r
.tab {\r
	flex: 1;\r
	padding: 0.5em;\r
	text-align: center;\r
	cursor: pointer;\r
	background: #333;\r
	color: #fff;\r
}\r
\r
.tab.active {\r
	background: #555;\r
	font-weight: bold;\r
}\r
\r
.cardlist {\r
	display: flex;\r
	flex-direction: column;\r
	gap: 12px;\r
	max-height: 300px;\r
	overflow-y: auto;\r
}\r
\r
.card {\r
	display: flex;\r
	flex-direction: column;\r
	justify-content: center;\r
	padding: 0.5em;\r
	border: 1px solid #ccc;\r
	cursor: pointer;\r
	min-height: 3.5em;\r
}\r
\r
.card small {\r
	font-size: 0.85em;\r
	color: #bbb;\r
}\r
\r
.popup {\r
	position: fixed;\r
	top: 10%;\r
	left: 50%;\r
	transform: translateX(-50%);\r
	background: white;\r
	padding: 1em;\r
	border: 2px solid #ccc;\r
	z-index: 1000;\r
	box-shadow: 0 0 15px rgba(0, 0, 0, 0.3);\r
}\r
\r
.card-title {\r
	font-weight: bold;\r
	font-size: 1.5em;\r
	color: black;\r
}\r
\r
.popup .code {\r
	margin-top: 12px;\r
	display: flex;\r
	justify-content: center;\r
	align-items: center;\r
}\r
\r
.popup .code canvas {\r
	max-width: 90vw;\r
	height: auto;\r
}\r
\r
.button-group {\r
	display: flex;\r
	justify-content: center;\r
	gap: 10px;\r
	margin-top: 1em;\r
}\r
\r
.button-group button {\r
	background: #666;\r
	color: white;\r
	padding: 8px 14px;\r
	border: none;\r
	font-size: 0.95em;\r
	cursor: pointer;\r
}\r
\r
.button-group button:hover {\r
	background: #444;\r
}\r
\r
ha-icon {\r
	vertical-align: middle;\r
	margin-right: 4px;\r
}\r
\r
.new-card-row {\r
	display: flex;\r
	gap: 6px;\r
	align-items: stretch;\r
	width: 100%;\r
	box-sizing: border-box;\r
	margin-top: 1em;\r
}\r
\r
.new-card-row input {\r
	flex: 1;\r
	min-width: 0;\r
	padding: 6px;\r
	box-sizing: border-box;\r
}\r
\r
.new-card-row button {\r
	flex: 0 0 auto;\r
	padding: 6px;\r
	background-color: #444;\r
	color: white;\r
	border: none;\r
	display: flex;\r
	align-items: center;\r
	justify-content: center;\r
	box-sizing: border-box;\r
	cursor: pointer;\r
}\r
\r
.new-card-row button ha-icon {\r
	color: white;\r
}\r
\r
.close-btn {\r
	position: absolute;\r
	top: 8px;\r
	right: 8px;\r
	cursor: pointer;\r
	--mdc-icon-size: 24px;\r
	color: #888;\r
	transition: color 0.2s;\r
}\r
\r
.close-btn:hover {\r
	color: #e00;\r
}`;var Ls=new Set(["EAN","EAN13","EAN8","UPC","ITF","ITF14","MSI","MSI10","MSI11","MSI1010","MSI1110","pharmacode"]);function Ns(t,e){let n=String(t??"").normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-zA-Z0-9]/g,"");return Ls.has(e)&&(n=n.replace(/\D/g,"")),n}function On(t,e,n,r={},i=null){let o=Ns(e,n);if(t instanceof HTMLCanvasElement){let a=t.getContext("2d");a&&a.clearRect(0,0,t.width,t.height)}else for(;t.firstChild;)t.removeChild(t.firstChild);i&&(i.style.display="none");try{return(0,Qi.default)(t,o,{format:n,width:5,height:80,...r}),{ok:!0}}catch(a){let u=`Invalid input for ${n}.`+(a?.message?` (${a.message})`:"");if(i)i.textContent=u,i.style.display="block";else if(t&&t.parentElement){let c=document.createElement("div");c.className="error",c.style.cssText="color:red;font-size:0.9em;",c.textContent=u,t.replaceWith(c)}return{ok:!1,message:u}}}var Sn=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.viewModes={},this.selectedCard=null,this.activeTab="own",this._inputState={name:"",code:""},this.inputContainer=document.createElement("div"),this.dynamicContainer=document.createElement("div");let e=document.createElement("style");e.textContent=Ki,this.shadowRoot.appendChild(e),this.inputContainer.innerHTML=`
      <form id="new-card-form" class="new-card-row">
        <input id="name" placeholder="Name" />
        <input id="code" placeholder="Code" />
        <button type="submit" title="Add Card">
          <ha-icon icon="mdi:plus"></ha-icon>
        </button>
      </form>
    `,this.shadowRoot.appendChild(this.inputContainer),this.shadowRoot.appendChild(this.dynamicContainer),this.inputContainer.querySelector("#new-card-form").addEventListener("submit",this.addCard.bind(this))}setConfig(e){this._config=e}set hass(e){this._hass=e,this.loadCards()}async loadCards(){let e=this.shadowRoot.getElementById("name"),n=this.shadowRoot.getElementById("code"),r=document.activeElement?.id;e&&n&&(this._inputState.name=e.value,this._inputState.code=n.value,this._inputState.focusId=r);let i=await this._hass.callApi("get","cardwallet"),o=this._hass.user.id;this.ownCards=i.filter(a=>a.user_id===o).map(a=>({...a,format:a.format||"CODE128"})),this.otherCards=i.filter(a=>a.user_id!==o).map(a=>({...a,format:a.format||"CODE128"})),this.render()}toggleCodeType(e){this.viewModes[e]=this.viewModes[e]==="barcode"?"qr":"barcode",this.render()}openCard(e){this.selectedCard=[...this.ownCards,...this.otherCards].find(n=>n.card_id===e),this.viewModes[e]||(this.viewModes[e]="barcode"),this.render()}closeCard(){this.selectedCard=null,this.render()}async addCard(e){e.preventDefault();let n=this.shadowRoot.getElementById("name").value,r=this.shadowRoot.getElementById("code").value;if(!n||!r)return alert("Missing fields");await this._hass.callApi("post","cardwallet",{name:n,code:r,owner:this._hass.user.name,user_id:this._hass.user.id,format:"CODE128"}),this._inputState={name:"",code:""},this.shadowRoot.getElementById("name").value="",this.shadowRoot.getElementById("code").value="",this.loadCards()}async deleteCard(e){await this._hass.callApi("delete",`cardwallet/${e.card_id}`,{user_id:e.user_id}),this.closeCard(),this.loadCards()}async updateCard(e){let n=["CODE128","CODE128A","CODE128B","CODE128C","EAN13","EAN8","UPC","CODE39","ITF14","ITF","MSI","MSI10","MSI11","MSI1010","MSI1110","pharmacode","codabar","CODE93"],r=document.createElement("div");r.className="edit-dialog",r.innerHTML=`
      <div class="dialog-content">
        <label>Name</label>
        <input id="edit-name" type="text" value="${e.name}" />
        <label>Default barcode format</label>
        <select id="edit-format">
          ${n.map(l=>`<option value="${l}" ${l===(e.format||"CODE128")?"selected":""}>${l}</option>`).join("")}
        </select>

        <div id="preview-wrap" style="margin-top:10px; text-align:center;">
          <canvas id="preview-canvas"></canvas>
          <div id="preview-error" style="color:red; font-size:0.9em; display:none;"></div>
        </div>

        <div class="btn-row">
          <button id="save-btn"><ha-icon icon="mdi:content-save"></ha-icon> Save</button>
          <button id="cancel-btn"><ha-icon icon="mdi:close"></ha-icon> Cancel</button>
        </div>
      </div>
    `,r.style.cssText=`
      position: fixed; top:0; left:0; right:0; bottom:0;
      background:rgba(0,0,0,0.4);
      display:flex; align-items:center; justify-content:center;
      z-index:1000;
    `,r.querySelector(".dialog-content").style.cssText=`
      background:#fff; padding:1em; border-radius:8px; width:260px;
      display:flex; flex-direction:column; gap:0.5em;
    `,this.shadowRoot.appendChild(r);let i=r.querySelector("#edit-name"),o=r.querySelector("#edit-format"),a=r.querySelector("#preview-canvas"),u=r.querySelector("#preview-error"),c=()=>{let l=o.value;On(a,e.code,l,{width:2,height:60},u)};o.addEventListener("change",c),c(),r.querySelector("#cancel-btn").addEventListener("click",()=>r.remove()),r.querySelector("#save-btn").addEventListener("click",async()=>{let l=i.value,s=o.value,v=await this._hass.callApi("put",`cardwallet/${e.card_id}`,{user_id:e.user_id,name:l,format:s});if(this.ownCards=this.ownCards.map(d=>d.card_id===e.card_id?{...d,...v}:d),this.otherCards=this.otherCards.map(d=>d.card_id===e.card_id?{...d,...v}:d),this.selectedCard&&this.selectedCard.card_id===e.card_id){this.selectedCard={...this.selectedCard,...v};let d=this.dynamicContainer.querySelector("#code-preview");if(d){let x=document.createElement("canvas");d.innerHTML="",d.appendChild(x);let A=this.selectedCard.format||"CODE128";On(x,this.selectedCard.code,A)}let E=this.dynamicContainer.querySelector(".card-title");E&&(E.textContent=this.selectedCard.name)}r.remove()})}render(){let e=this.dynamicContainer.querySelector(".cardlist"),n=e?e.scrollTop:0;if(this.dynamicContainer.innerHTML=`
      <div class="tabs">
        <div class="tab ${this.activeTab==="own"?"active":""}" id="tab-own">My Cards</div>
        <div class="tab ${this.activeTab==="others"?"active":""}" id="tab-others">Others' Cards</div>
      </div>
      <div class="cardlist">
        ${(this.activeTab==="own"?this.ownCards:this.otherCards).map(i=>`
          <div class="card" data-card-id="${i.card_id}">
            <strong>${i.name}</strong>
            ${this.activeTab==="others"?`<br><small><ha-icon icon="mdi:account"></ha-icon> ${i.owner}</small>`:""}
          </div>
        `).join("")}
      </div>
      ${this.selectedCard?`
        <div class="popup">
          <h3 class="card-title">${this.selectedCard.name}</h3>
          <div class="code" id="code-preview"></div>
          <div class="button-group">
            <button id="toggle-code"><ha-icon icon="mdi:cached"></ha-icon> QR/Barcode</button>
            ${this.selectedCard.user_id===this._hass.user.id?`
              <button id="edit"><ha-icon icon="mdi:pencil"></ha-icon> Edit</button>
              <button id="delete"><ha-icon icon="mdi:delete"></ha-icon> Delete</button>
            `:""}
          </div>
          <ha-icon icon="mdi:close" class="close-btn" id="close" title="Close"></ha-icon>
        </div>
      `:""}
    `,this.dynamicContainer.querySelector("#tab-own")?.addEventListener("click",()=>{this.activeTab="own",this.render()}),this.dynamicContainer.querySelector("#tab-others")?.addEventListener("click",()=>{this.activeTab="others",this.render()}),this.dynamicContainer.querySelectorAll("[data-card-id]").forEach(i=>i.addEventListener("click",()=>this.openCard(i.getAttribute("data-card-id")))),this.selectedCard){let i=this.viewModes[this.selectedCard.card_id]||"barcode",o=this.dynamicContainer.querySelector("#code-preview");if(o.innerHTML="",i==="qr"){let a=document.createElement("canvas");o.appendChild(a),Yi.default.toCanvas(a,this.selectedCard.code,{width:160,margin:1},u=>{u&&console.error("QR generation error:",u)})}else{let a=document.createElement("canvas");o.appendChild(a);let u=this.selectedCard.format||"CODE128";On(a,this.selectedCard.code,u)}this.dynamicContainer.querySelector("#toggle-code")?.addEventListener("click",()=>this.toggleCodeType(this.selectedCard.card_id)),this.dynamicContainer.querySelector("#close")?.addEventListener("click",()=>this.closeCard()),this.selectedCard.user_id===this._hass.user.id&&(this.dynamicContainer.querySelector("#delete")?.addEventListener("click",()=>this.deleteCard(this.selectedCard)),this.dynamicContainer.querySelector("#edit")?.addEventListener("click",()=>this.updateCard(this.selectedCard)))}let r=this.dynamicContainer.querySelector(".cardlist");r&&(r.scrollTop=n)}};customElements.define("cardwallet-card",Sn);

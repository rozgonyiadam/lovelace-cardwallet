var Wi=Object.create;var xr=Object.defineProperty;var Zi=Object.getOwnPropertyDescriptor;var eo=Object.getOwnPropertyNames;var to=Object.getPrototypeOf,ro=Object.prototype.hasOwnProperty;var c=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var no=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of eo(e))!ro.call(t,i)&&i!==r&&xr(t,i,{get:()=>e[i],enumerable:!(n=Zi(e,i))||n.enumerable});return t};var Ar=(t,e,r)=>(r=t!=null?Wi(to(t)):{},no(e||!t||!t.__esModule?xr(r,"default",{value:t,enumerable:!0}):r,t));var Tr=c((L0,Rr)=>{Rr.exports=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}});var B=c(j=>{var Ye,io=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];j.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};j.getSymbolTotalCodewords=function(e){return io[e]};j.getBCHDigit=function(t){let e=0;for(;t!==0;)e++,t>>>=1;return e};j.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');Ye=e};j.isKanjiModeEnabled=function(){return typeof Ye<"u"};j.toSJIS=function(e){return Ye(e)}});var Se=c(m=>{m.L={bit:1};m.M={bit:0};m.Q={bit:3};m.H={bit:2};function oo(t){if(typeof t!="string")throw new Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return m.L;case"m":case"medium":return m.M;case"q":case"quartile":return m.Q;case"h":case"high":return m.H;default:throw new Error("Unknown EC Level: "+t)}}m.isValid=function(e){return e&&typeof e.bit<"u"&&e.bit>=0&&e.bit<4};m.from=function(e,r){if(m.isValid(e))return e;try{return oo(e)}catch{return r}}});var Mr=c((q0,Pr)=>{function Cr(){this.buffer=[],this.length=0}Cr.prototype={get:function(t){let e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let r=0;r<e;r++)this.putBit((t>>>e-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){let e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};Pr.exports=Cr});var Ir=c((D0,Br)=>{function oe(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}oe.prototype.set=function(t,e,r,n){let i=t*this.size+e;this.data[i]=r,n&&(this.reservedBit[i]=!0)};oe.prototype.get=function(t,e){return this.data[t*this.size+e]};oe.prototype.xor=function(t,e,r){this.data[t*this.size+e]^=r};oe.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};Br.exports=oe});var Lr=c(xe=>{var ao=B().getSymbolSize;xe.getRowColCoords=function(e){if(e===1)return[];let r=Math.floor(e/7)+2,n=ao(e),i=n===145?26:Math.ceil((n-13)/(2*r-2))*2,o=[n-7];for(let a=1;a<r-1;a++)o[a]=o[a-1]-i;return o.push(6),o.reverse()};xe.getPositions=function(e){let r=[],n=xe.getRowColCoords(e),i=n.length;for(let o=0;o<i;o++)for(let a=0;a<i;a++)o===0&&a===0||o===0&&a===i-1||o===i-1&&a===0||r.push([n[o],n[a]]);return r}});var qr=c(kr=>{var uo=B().getSymbolSize,Nr=7;kr.getPositions=function(e){let r=uo(e);return[[0,0],[r-Nr,0],[0,r-Nr]]}});var Dr=c(h=>{h.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var U={N1:3,N2:3,N3:40,N4:10};h.isValid=function(e){return e!=null&&e!==""&&!isNaN(e)&&e>=0&&e<=7};h.from=function(e){return h.isValid(e)?parseInt(e,10):void 0};h.getPenaltyN1=function(e){let r=e.size,n=0,i=0,o=0,a=null,u=null;for(let f=0;f<r;f++){i=o=0,a=u=null;for(let l=0;l<r;l++){let s=e.get(f,l);s===a?i++:(i>=5&&(n+=U.N1+(i-5)),a=s,i=1),s=e.get(l,f),s===u?o++:(o>=5&&(n+=U.N1+(o-5)),u=s,o=1)}i>=5&&(n+=U.N1+(i-5)),o>=5&&(n+=U.N1+(o-5))}return n};h.getPenaltyN2=function(e){let r=e.size,n=0;for(let i=0;i<r-1;i++)for(let o=0;o<r-1;o++){let a=e.get(i,o)+e.get(i,o+1)+e.get(i+1,o)+e.get(i+1,o+1);(a===4||a===0)&&n++}return n*U.N2};h.getPenaltyN3=function(e){let r=e.size,n=0,i=0,o=0;for(let a=0;a<r;a++){i=o=0;for(let u=0;u<r;u++)i=i<<1&2047|e.get(a,u),u>=10&&(i===1488||i===93)&&n++,o=o<<1&2047|e.get(u,a),u>=10&&(o===1488||o===93)&&n++}return n*U.N3};h.getPenaltyN4=function(e){let r=0,n=e.data.length;for(let o=0;o<n;o++)r+=e.data[o];return Math.abs(Math.ceil(r*100/n/5)-10)*U.N4};function fo(t,e,r){switch(t){case h.Patterns.PATTERN000:return(e+r)%2===0;case h.Patterns.PATTERN001:return e%2===0;case h.Patterns.PATTERN010:return r%3===0;case h.Patterns.PATTERN011:return(e+r)%3===0;case h.Patterns.PATTERN100:return(Math.floor(e/2)+Math.floor(r/3))%2===0;case h.Patterns.PATTERN101:return e*r%2+e*r%3===0;case h.Patterns.PATTERN110:return(e*r%2+e*r%3)%2===0;case h.Patterns.PATTERN111:return(e*r%3+(e+r)%2)%2===0;default:throw new Error("bad maskPattern:"+t)}}h.applyMask=function(e,r){let n=r.size;for(let i=0;i<n;i++)for(let o=0;o<n;o++)r.isReserved(o,i)||r.xor(o,i,fo(e,o,i))};h.getBestMask=function(e,r){let n=Object.keys(h.Patterns).length,i=0,o=1/0;for(let a=0;a<n;a++){r(a),h.applyMask(a,e);let u=h.getPenaltyN1(e)+h.getPenaltyN2(e)+h.getPenaltyN3(e)+h.getPenaltyN4(e);h.applyMask(a,e),u<o&&(o=u,i=a)}return i}});var We=c(Qe=>{var I=Se(),Ae=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Re=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Qe.getBlocksCount=function(e,r){switch(r){case I.L:return Ae[(e-1)*4+0];case I.M:return Ae[(e-1)*4+1];case I.Q:return Ae[(e-1)*4+2];case I.H:return Ae[(e-1)*4+3];default:return}};Qe.getTotalCodewordsCount=function(e,r){switch(r){case I.L:return Re[(e-1)*4+0];case I.M:return Re[(e-1)*4+1];case I.Q:return Re[(e-1)*4+2];case I.H:return Re[(e-1)*4+3];default:return}}});var jr=c(Ce=>{var ae=new Uint8Array(512),Te=new Uint8Array(256);(function(){let e=1;for(let r=0;r<255;r++)ae[r]=e,Te[e]=r,e<<=1,e&256&&(e^=285);for(let r=255;r<512;r++)ae[r]=ae[r-255]})();Ce.log=function(e){if(e<1)throw new Error("log("+e+")");return Te[e]};Ce.exp=function(e){return ae[e]};Ce.mul=function(e,r){return e===0||r===0?0:ae[Te[e]+Te[r]]}});var Ur=c(ue=>{var Ze=jr();ue.mul=function(e,r){let n=new Uint8Array(e.length+r.length-1);for(let i=0;i<e.length;i++)for(let o=0;o<r.length;o++)n[i+o]^=Ze.mul(e[i],r[o]);return n};ue.mod=function(e,r){let n=new Uint8Array(e);for(;n.length-r.length>=0;){let i=n[0];for(let a=0;a<r.length;a++)n[a]^=Ze.mul(r[a],i);let o=0;for(;o<n.length&&n[o]===0;)o++;n=n.slice(o)}return n};ue.generateECPolynomial=function(e){let r=new Uint8Array([1]);for(let n=0;n<e;n++)r=ue.mul(r,new Uint8Array([1,Ze.exp(n)]));return r}});var Gr=c((V0,Fr)=>{var zr=Ur();function et(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}et.prototype.initialize=function(e){this.degree=e,this.genPoly=zr.generateECPolynomial(this.degree)};et.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");let r=new Uint8Array(e.length+this.degree);r.set(e);let n=zr.mod(r,this.genPoly),i=this.degree-n.length;if(i>0){let o=new Uint8Array(this.degree);return o.set(n,i),o}return n};Fr.exports=et});var tt=c(Hr=>{Hr.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}});var rt=c(T=>{var Vr="[0-9]+",co="[A-Z $%*+\\-./:]+",fe="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";fe=fe.replace(/u/g,"\\u");var lo="(?:(?![A-Z0-9 $%*+\\-./:]|"+fe+`)(?:.|[\r
]))+`;T.KANJI=new RegExp(fe,"g");T.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");T.BYTE=new RegExp(lo,"g");T.NUMERIC=new RegExp(Vr,"g");T.ALPHANUMERIC=new RegExp(co,"g");var so=new RegExp("^"+fe+"$"),ho=new RegExp("^"+Vr+"$"),go=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");T.testKanji=function(e){return so.test(e)};T.testNumeric=function(e){return ho.test(e)};T.testAlphanumeric=function(e){return go.test(e)}});var L=c(v=>{var _o=tt(),nt=rt();v.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]};v.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]};v.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]};v.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]};v.MIXED={bit:-1};v.getCharCountIndicator=function(e,r){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!_o.isValid(r))throw new Error("Invalid version: "+r);return r>=1&&r<10?e.ccBits[0]:r<27?e.ccBits[1]:e.ccBits[2]};v.getBestModeForData=function(e){return nt.testNumeric(e)?v.NUMERIC:nt.testAlphanumeric(e)?v.ALPHANUMERIC:nt.testKanji(e)?v.KANJI:v.BYTE};v.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")};v.isValid=function(e){return e&&e.bit&&e.ccBits};function vo(t){if(typeof t!="string")throw new Error("Param is not a string");switch(t.toLowerCase()){case"numeric":return v.NUMERIC;case"alphanumeric":return v.ALPHANUMERIC;case"kanji":return v.KANJI;case"byte":return v.BYTE;default:throw new Error("Unknown mode: "+t)}}v.from=function(e,r){if(v.isValid(e))return e;try{return vo(e)}catch{return r}}});var Yr=c(z=>{var Pe=B(),po=We(),Xr=Se(),N=L(),it=tt(),Jr=7973,$r=Pe.getBCHDigit(Jr);function yo(t,e,r){for(let n=1;n<=40;n++)if(e<=z.getCapacity(n,r,t))return n}function Kr(t,e){return N.getCharCountIndicator(t,e)+4}function Eo(t,e){let r=0;return t.forEach(function(n){let i=Kr(n.mode,e);r+=i+n.getBitsLength()}),r}function wo(t,e){for(let r=1;r<=40;r++)if(Eo(t,r)<=z.getCapacity(r,e,N.MIXED))return r}z.from=function(e,r){return it.isValid(e)?parseInt(e,10):r};z.getCapacity=function(e,r,n){if(!it.isValid(e))throw new Error("Invalid QR Code version");typeof n>"u"&&(n=N.BYTE);let i=Pe.getSymbolTotalCodewords(e),o=po.getTotalCodewordsCount(e,r),a=(i-o)*8;if(n===N.MIXED)return a;let u=a-Kr(n,e);switch(n){case N.NUMERIC:return Math.floor(u/10*3);case N.ALPHANUMERIC:return Math.floor(u/11*2);case N.KANJI:return Math.floor(u/13);case N.BYTE:default:return Math.floor(u/8)}};z.getBestVersionForData=function(e,r){let n,i=Xr.from(r,Xr.M);if(Array.isArray(e)){if(e.length>1)return wo(e,i);if(e.length===0)return 1;n=e[0]}else n=e;return yo(n.mode,n.getLength(),i)};z.getEncodedBits=function(e){if(!it.isValid(e)||e<7)throw new Error("Invalid QR Code version");let r=e<<12;for(;Pe.getBCHDigit(r)-$r>=0;)r^=Jr<<Pe.getBCHDigit(r)-$r;return e<<12|r}});var en=c(Zr=>{var ot=B(),Wr=1335,mo=21522,Qr=ot.getBCHDigit(Wr);Zr.getEncodedBits=function(e,r){let n=e.bit<<3|r,i=n<<10;for(;ot.getBCHDigit(i)-Qr>=0;)i^=Wr<<ot.getBCHDigit(i)-Qr;return(n<<10|i)^mo}});var rn=c((Q0,tn)=>{var bo=L();function V(t){this.mode=bo.NUMERIC,this.data=t.toString()}V.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};V.prototype.getLength=function(){return this.data.length};V.prototype.getBitsLength=function(){return V.getBitsLength(this.data.length)};V.prototype.write=function(e){let r,n,i;for(r=0;r+3<=this.data.length;r+=3)n=this.data.substr(r,3),i=parseInt(n,10),e.put(i,10);let o=this.data.length-r;o>0&&(n=this.data.substr(r),i=parseInt(n,10),e.put(i,o*3+1))};tn.exports=V});var on=c((W0,nn)=>{var Oo=L(),at=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function X(t){this.mode=Oo.ALPHANUMERIC,this.data=t}X.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};X.prototype.getLength=function(){return this.data.length};X.prototype.getBitsLength=function(){return X.getBitsLength(this.data.length)};X.prototype.write=function(e){let r;for(r=0;r+2<=this.data.length;r+=2){let n=at.indexOf(this.data[r])*45;n+=at.indexOf(this.data[r+1]),e.put(n,11)}this.data.length%2&&e.put(at.indexOf(this.data[r]),6)};nn.exports=X});var un=c((Z0,an)=>{var So=L();function $(t){this.mode=So.BYTE,typeof t=="string"?this.data=new TextEncoder().encode(t):this.data=new Uint8Array(t)}$.getBitsLength=function(e){return e*8};$.prototype.getLength=function(){return this.data.length};$.prototype.getBitsLength=function(){return $.getBitsLength(this.data.length)};$.prototype.write=function(t){for(let e=0,r=this.data.length;e<r;e++)t.put(this.data[e],8)};an.exports=$});var cn=c((es,fn)=>{var xo=L(),Ao=B();function J(t){this.mode=xo.KANJI,this.data=t}J.getBitsLength=function(e){return e*13};J.prototype.getLength=function(){return this.data.length};J.prototype.getBitsLength=function(){return J.getBitsLength(this.data.length)};J.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let r=Ao.toSJIS(this.data[e]);if(r>=33088&&r<=40956)r-=33088;else if(r>=57408&&r<=60351)r-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);r=(r>>>8&255)*192+(r&255),t.put(r,13)}};fn.exports=J});var ln=c((ts,ut)=>{"use strict";var ce={single_source_shortest_paths:function(t,e,r){var n={},i={};i[e]=0;var o=ce.PriorityQueue.make();o.push(e,0);for(var a,u,f,l,s,p,g,S,P;!o.empty();){a=o.pop(),u=a.value,l=a.cost,s=t[u]||{};for(f in s)s.hasOwnProperty(f)&&(p=s[f],g=l+p,S=i[f],P=typeof i[f]>"u",(P||S>g)&&(i[f]=g,o.push(f,g),n[f]=u))}if(typeof r<"u"&&typeof i[r]>"u"){var M=["Could not find a path from ",e," to ",r,"."].join("");throw new Error(M)}return n},extract_shortest_path_from_predecessor_list:function(t,e){for(var r=[],n=e,i;n;)r.push(n),i=t[n],n=t[n];return r.reverse(),r},find_path:function(t,e,r){var n=ce.single_source_shortest_paths(t,e,r);return ce.extract_shortest_path_from_predecessor_list(n,r)},PriorityQueue:{make:function(t){var e=ce.PriorityQueue,r={},n;t=t||{};for(n in e)e.hasOwnProperty(n)&&(r[n]=e[n]);return r.queue=[],r.sorter=t.sorter||e.default_sorter,r},default_sorter:function(t,e){return t.cost-e.cost},push:function(t,e){var r={value:t,cost:e};this.queue.push(r),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};typeof ut<"u"&&(ut.exports=ce)});var yn=c(K=>{var d=L(),hn=rn(),gn=on(),_n=un(),vn=cn(),le=rt(),Me=B(),Ro=ln();function sn(t){return unescape(encodeURIComponent(t)).length}function se(t,e,r){let n=[],i;for(;(i=t.exec(r))!==null;)n.push({data:i[0],index:i.index,mode:e,length:i[0].length});return n}function pn(t){let e=se(le.NUMERIC,d.NUMERIC,t),r=se(le.ALPHANUMERIC,d.ALPHANUMERIC,t),n,i;return Me.isKanjiModeEnabled()?(n=se(le.BYTE,d.BYTE,t),i=se(le.KANJI,d.KANJI,t)):(n=se(le.BYTE_KANJI,d.BYTE,t),i=[]),e.concat(r,n,i).sort(function(a,u){return a.index-u.index}).map(function(a){return{data:a.data,mode:a.mode,length:a.length}})}function ft(t,e){switch(e){case d.NUMERIC:return hn.getBitsLength(t);case d.ALPHANUMERIC:return gn.getBitsLength(t);case d.KANJI:return vn.getBitsLength(t);case d.BYTE:return _n.getBitsLength(t)}}function To(t){return t.reduce(function(e,r){let n=e.length-1>=0?e[e.length-1]:null;return n&&n.mode===r.mode?(e[e.length-1].data+=r.data,e):(e.push(r),e)},[])}function Co(t){let e=[];for(let r=0;r<t.length;r++){let n=t[r];switch(n.mode){case d.NUMERIC:e.push([n,{data:n.data,mode:d.ALPHANUMERIC,length:n.length},{data:n.data,mode:d.BYTE,length:n.length}]);break;case d.ALPHANUMERIC:e.push([n,{data:n.data,mode:d.BYTE,length:n.length}]);break;case d.KANJI:e.push([n,{data:n.data,mode:d.BYTE,length:sn(n.data)}]);break;case d.BYTE:e.push([{data:n.data,mode:d.BYTE,length:sn(n.data)}])}}return e}function Po(t,e){let r={},n={start:{}},i=["start"];for(let o=0;o<t.length;o++){let a=t[o],u=[];for(let f=0;f<a.length;f++){let l=a[f],s=""+o+f;u.push(s),r[s]={node:l,lastCount:0},n[s]={};for(let p=0;p<i.length;p++){let g=i[p];r[g]&&r[g].node.mode===l.mode?(n[g][s]=ft(r[g].lastCount+l.length,l.mode)-ft(r[g].lastCount,l.mode),r[g].lastCount+=l.length):(r[g]&&(r[g].lastCount=l.length),n[g][s]=ft(l.length,l.mode)+4+d.getCharCountIndicator(l.mode,e))}}i=u}for(let o=0;o<i.length;o++)n[i[o]].end=0;return{map:n,table:r}}function dn(t,e){let r,n=d.getBestModeForData(t);if(r=d.from(e,n),r!==d.BYTE&&r.bit<n.bit)throw new Error('"'+t+'" cannot be encoded with mode '+d.toString(r)+`.
 Suggested mode is: `+d.toString(n));switch(r===d.KANJI&&!Me.isKanjiModeEnabled()&&(r=d.BYTE),r){case d.NUMERIC:return new hn(t);case d.ALPHANUMERIC:return new gn(t);case d.KANJI:return new vn(t);case d.BYTE:return new _n(t)}}K.fromArray=function(e){return e.reduce(function(r,n){return typeof n=="string"?r.push(dn(n,null)):n.data&&r.push(dn(n.data,n.mode)),r},[])};K.fromString=function(e,r){let n=pn(e,Me.isKanjiModeEnabled()),i=Co(n),o=Po(i,r),a=Ro.find_path(o.map,"start","end"),u=[];for(let f=1;f<a.length-1;f++)u.push(o.table[a[f]].node);return K.fromArray(To(u))};K.rawSplit=function(e){return K.fromArray(pn(e,Me.isKanjiModeEnabled()))}});var wn=c(En=>{var Ie=B(),ct=Se(),Mo=Mr(),Bo=Ir(),Io=Lr(),Lo=qr(),dt=Dr(),ht=We(),No=Gr(),Be=Yr(),ko=en(),qo=L(),lt=yn();function Do(t,e){let r=t.size,n=Lo.getPositions(e);for(let i=0;i<n.length;i++){let o=n[i][0],a=n[i][1];for(let u=-1;u<=7;u++)if(!(o+u<=-1||r<=o+u))for(let f=-1;f<=7;f++)a+f<=-1||r<=a+f||(u>=0&&u<=6&&(f===0||f===6)||f>=0&&f<=6&&(u===0||u===6)||u>=2&&u<=4&&f>=2&&f<=4?t.set(o+u,a+f,!0,!0):t.set(o+u,a+f,!1,!0))}}function jo(t){let e=t.size;for(let r=8;r<e-8;r++){let n=r%2===0;t.set(r,6,n,!0),t.set(6,r,n,!0)}}function Uo(t,e){let r=Io.getPositions(e);for(let n=0;n<r.length;n++){let i=r[n][0],o=r[n][1];for(let a=-2;a<=2;a++)for(let u=-2;u<=2;u++)a===-2||a===2||u===-2||u===2||a===0&&u===0?t.set(i+a,o+u,!0,!0):t.set(i+a,o+u,!1,!0)}}function zo(t,e){let r=t.size,n=Be.getEncodedBits(e),i,o,a;for(let u=0;u<18;u++)i=Math.floor(u/3),o=u%3+r-8-3,a=(n>>u&1)===1,t.set(i,o,a,!0),t.set(o,i,a,!0)}function st(t,e,r){let n=t.size,i=ko.getEncodedBits(e,r),o,a;for(o=0;o<15;o++)a=(i>>o&1)===1,o<6?t.set(o,8,a,!0):o<8?t.set(o+1,8,a,!0):t.set(n-15+o,8,a,!0),o<8?t.set(8,n-o-1,a,!0):o<9?t.set(8,15-o-1+1,a,!0):t.set(8,15-o-1,a,!0);t.set(n-8,8,1,!0)}function Fo(t,e){let r=t.size,n=-1,i=r-1,o=7,a=0;for(let u=r-1;u>0;u-=2)for(u===6&&u--;;){for(let f=0;f<2;f++)if(!t.isReserved(i,u-f)){let l=!1;a<e.length&&(l=(e[a]>>>o&1)===1),t.set(i,u-f,l),o--,o===-1&&(a++,o=7)}if(i+=n,i<0||r<=i){i-=n,n=-n;break}}}function Go(t,e,r){let n=new Mo;r.forEach(function(f){n.put(f.mode.bit,4),n.put(f.getLength(),qo.getCharCountIndicator(f.mode,t)),f.write(n)});let i=Ie.getSymbolTotalCodewords(t),o=ht.getTotalCodewordsCount(t,e),a=(i-o)*8;for(n.getLengthInBits()+4<=a&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);let u=(a-n.getLengthInBits())/8;for(let f=0;f<u;f++)n.put(f%2?17:236,8);return Ho(n,t,e)}function Ho(t,e,r){let n=Ie.getSymbolTotalCodewords(e),i=ht.getTotalCodewordsCount(e,r),o=n-i,a=ht.getBlocksCount(e,r),u=n%a,f=a-u,l=Math.floor(n/a),s=Math.floor(o/a),p=s+1,g=l-s,S=new No(g),P=0,M=new Array(a),Or=new Array(a),$e=0,Qi=new Uint8Array(t.buffer);for(let H=0;H<a;H++){let Ke=H<f?s:p;M[H]=Qi.slice(P,P+Ke),Or[H]=S.encode(M[H]),P+=Ke,$e=Math.max($e,Ke)}let Je=new Uint8Array(n),Sr=0,A,R;for(A=0;A<$e;A++)for(R=0;R<a;R++)A<M[R].length&&(Je[Sr++]=M[R][A]);for(A=0;A<g;A++)for(R=0;R<a;R++)Je[Sr++]=Or[R][A];return Je}function Vo(t,e,r,n){let i;if(Array.isArray(t))i=lt.fromArray(t);else if(typeof t=="string"){let l=e;if(!l){let s=lt.rawSplit(t);l=Be.getBestVersionForData(s,r)}i=lt.fromString(t,l||40)}else throw new Error("Invalid data");let o=Be.getBestVersionForData(i,r);if(!o)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=o;else if(e<o)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+o+`.
`);let a=Go(e,r,i),u=Ie.getSymbolSize(e),f=new Bo(u);return Do(f,e),jo(f),Uo(f,e),st(f,r,0),e>=7&&zo(f,e),Fo(f,a),isNaN(n)&&(n=dt.getBestMask(f,st.bind(null,f,r))),dt.applyMask(n,f),st(f,r,n),{modules:f,version:e,errorCorrectionLevel:r,maskPattern:n,segments:i}}En.create=function(e,r){if(typeof e>"u"||e==="")throw new Error("No input text");let n=ct.M,i,o;return typeof r<"u"&&(n=ct.from(r.errorCorrectionLevel,ct.M),i=Be.from(r.version),o=dt.from(r.maskPattern),r.toSJISFunc&&Ie.setToSJISFunction(r.toSJISFunc)),Vo(e,i,n,o)}});var gt=c(F=>{function mn(t){if(typeof t=="number"&&(t=t.toString()),typeof t!="string")throw new Error("Color should be defined as hex string");let e=t.slice().replace("#","").split("");if(e.length<3||e.length===5||e.length>8)throw new Error("Invalid hex color: "+t);(e.length===3||e.length===4)&&(e=Array.prototype.concat.apply([],e.map(function(n){return[n,n]}))),e.length===6&&e.push("F","F");let r=parseInt(e.join(""),16);return{r:r>>24&255,g:r>>16&255,b:r>>8&255,a:r&255,hex:"#"+e.slice(0,6).join("")}}F.getOptions=function(e){e||(e={}),e.color||(e.color={});let r=typeof e.margin>"u"||e.margin===null||e.margin<0?4:e.margin,n=e.width&&e.width>=21?e.width:void 0,i=e.scale||4;return{width:n,scale:n?4:i,margin:r,color:{dark:mn(e.color.dark||"#000000ff"),light:mn(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}};F.getScale=function(e,r){return r.width&&r.width>=e+r.margin*2?r.width/(e+r.margin*2):r.scale};F.getImageWidth=function(e,r){let n=F.getScale(e,r);return Math.floor((e+r.margin*2)*n)};F.qrToImageData=function(e,r,n){let i=r.modules.size,o=r.modules.data,a=F.getScale(i,n),u=Math.floor((i+n.margin*2)*a),f=n.margin*a,l=[n.color.light,n.color.dark];for(let s=0;s<u;s++)for(let p=0;p<u;p++){let g=(s*u+p)*4,S=n.color.light;if(s>=f&&p>=f&&s<u-f&&p<u-f){let P=Math.floor((s-f)/a),M=Math.floor((p-f)/a);S=l[o[P*i+M]?1:0]}e[g++]=S.r,e[g++]=S.g,e[g++]=S.b,e[g]=S.a}}});var bn=c(Le=>{var _t=gt();function Xo(t,e,r){t.clearRect(0,0,e.width,e.height),e.style||(e.style={}),e.height=r,e.width=r,e.style.height=r+"px",e.style.width=r+"px"}function $o(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}Le.render=function(e,r,n){let i=n,o=r;typeof i>"u"&&(!r||!r.getContext)&&(i=r,r=void 0),r||(o=$o()),i=_t.getOptions(i);let a=_t.getImageWidth(e.modules.size,i),u=o.getContext("2d"),f=u.createImageData(a,a);return _t.qrToImageData(f.data,e,i),Xo(u,o,a),u.putImageData(f,0,0),o};Le.renderToDataURL=function(e,r,n){let i=n;typeof i>"u"&&(!r||!r.getContext)&&(i=r,r=void 0),i||(i={});let o=Le.render(e,r,i),a=i.type||"image/png",u=i.rendererOpts||{};return o.toDataURL(a,u.quality)}});var xn=c(Sn=>{var Jo=gt();function On(t,e){let r=t.a/255,n=e+'="'+t.hex+'"';return r<1?n+" "+e+'-opacity="'+r.toFixed(2).slice(1)+'"':n}function vt(t,e,r){let n=t+e;return typeof r<"u"&&(n+=" "+r),n}function Ko(t,e,r){let n="",i=0,o=!1,a=0;for(let u=0;u<t.length;u++){let f=Math.floor(u%e),l=Math.floor(u/e);!f&&!o&&(o=!0),t[u]?(a++,u>0&&f>0&&t[u-1]||(n+=o?vt("M",f+r,.5+l+r):vt("m",i,0),i=0,o=!1),f+1<e&&t[u+1]||(n+=vt("h",a),a=0)):i++}return n}Sn.render=function(e,r,n){let i=Jo.getOptions(r),o=e.modules.size,a=e.modules.data,u=o+i.margin*2,f=i.color.light.a?"<path "+On(i.color.light,"fill")+' d="M0 0h'+u+"v"+u+'H0z"/>':"",l="<path "+On(i.color.dark,"stroke")+' d="'+Ko(a,o,i.margin)+'"/>',s='viewBox="0 0 '+u+" "+u+'"',g='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+s+' shape-rendering="crispEdges">'+f+l+`</svg>
`;return typeof n=="function"&&n(null,g),g}});var Rn=c(de=>{var Yo=Tr(),pt=wn(),An=bn(),Qo=xn();function yt(t,e,r,n,i){let o=[].slice.call(arguments,1),a=o.length,u=typeof o[a-1]=="function";if(!u&&!Yo())throw new Error("Callback required as last argument");if(u){if(a<2)throw new Error("Too few arguments provided");a===2?(i=r,r=e,e=n=void 0):a===3&&(e.getContext&&typeof i>"u"?(i=n,n=void 0):(i=n,n=r,r=e,e=void 0))}else{if(a<1)throw new Error("Too few arguments provided");return a===1?(r=e,e=n=void 0):a===2&&!e.getContext&&(n=r,r=e,e=void 0),new Promise(function(f,l){try{let s=pt.create(r,n);f(t(s,e,n))}catch(s){l(s)}})}try{let f=pt.create(r,n);i(null,t(f,e,n))}catch(f){i(f)}}de.create=pt.create;de.toCanvas=yt.bind(null,An.render);de.toDataURL=yt.bind(null,An.renderToDataURL);de.toString=yt.bind(null,function(t,e,r){return Qo.render(t,r)})});var E=c(Et=>{"use strict";Object.defineProperty(Et,"__esModule",{value:!0});function Wo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Zo=function t(e,r){Wo(this,t),this.data=e,this.text=r.text||e,this.options=r};Et.default=Zo});var Pn=c(Ne=>{"use strict";Object.defineProperty(Ne,"__esModule",{value:!0});Ne.CODE39=void 0;var ea=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),ta=E(),ra=na(ta);function na(t){return t&&t.__esModule?t:{default:t}}function ia(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oa(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function aa(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var ua=function(t){aa(e,t);function e(r,n){return ia(this,e),r=r.toUpperCase(),n.mod43&&(r+=la(sa(r))),oa(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r,n))}return ea(e,[{key:"encode",value:function(){for(var n=wt("*"),i=0;i<this.data.length;i++)n+=wt(this.data[i])+"0";return n+=wt("*"),{data:n,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)!==-1}}]),e}(ra.default),Tn=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],fa=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];function wt(t){return ca(Cn(t))}function ca(t){return fa[t].toString(2)}function la(t){return Tn[t]}function Cn(t){return Tn.indexOf(t)}function sa(t){for(var e=0,r=0;r<t.length;r++)e+=Cn(t[r]);return e=e%43,e}Ne.CODE39=ua});var Y=c(_=>{"use strict";Object.defineProperty(_,"__esModule",{value:!0});var he;function mt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Mn=_.SET_A=0,Bn=_.SET_B=1,In=_.SET_C=2,ls=_.SHIFT=98,da=_.START_A=103,ha=_.START_B=104,ga=_.START_C=105,ss=_.MODULO=103,ds=_.STOP=106,hs=_.FNC1=207,gs=_.SET_BY_CODE=(he={},mt(he,da,Mn),mt(he,ha,Bn),mt(he,ga,In),he),_s=_.SWAP={101:Mn,100:Bn,99:In},vs=_.A_START_CHAR="\xD0",ps=_.B_START_CHAR="\xD1",ys=_.C_START_CHAR="\xD2",Es=_.A_CHARS="[\0-_\xC8-\xCF]",ws=_.B_CHARS="[ -\x7F\xC8-\xCF]",ms=_.C_CHARS="(\xCF*[0-9]{2}\xCF*)",bs=_.BARS=[11011001100,11001101100,11001100110,10010011e3,10010001100,10001001100,10011001e3,10011000100,10001100100,11001001e3,11001000100,11000100100,10110011100,10011011100,10011001110,10111001100,10011101100,10011100110,11001110010,11001011100,11001001110,11011100100,11001110100,11101101110,11101001100,11100101100,11100100110,11101100100,11100110100,11100110010,11011011e3,11011000110,11000110110,10100011e3,10001011e3,10001000110,10110001e3,10001101e3,10001100010,11010001e3,11000101e3,11000100010,10110111e3,10110001110,10001101110,10111011e3,10111000110,10001110110,11101110110,11010001110,11000101110,11011101e3,11011100010,11011101110,11101011e3,11101000110,11100010110,11101101e3,11101100010,11100011010,11101111010,11001000010,11110001010,1010011e4,10100001100,1001011e4,10010000110,10000101100,10000100110,1011001e4,10110000100,1001101e4,10011000010,10000110100,10000110010,11000010010,1100101e4,11110111010,11000010100,10001111010,10100111100,10010111100,10010011110,10111100100,10011110100,10011110010,11110100100,11110010100,11110010010,11011011110,11011110110,11110110110,10101111e3,10100011110,10001011110,10111101e3,10111100010,11110101e3,11110100010,10111011110,10111101110,11101011110,11110101110,11010000100,1101001e4,11010011100,1100011101011]});var ge=c(bt=>{"use strict";Object.defineProperty(bt,"__esModule",{value:!0});var _a=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),va=E(),pa=ya(va),w=Y();function ya(t){return t&&t.__esModule?t:{default:t}}function Ea(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wa(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function ma(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var ba=function(t){ma(e,t);function e(r,n){Ea(this,e);var i=wa(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r.substring(1),n));return i.bytes=r.split("").map(function(o){return o.charCodeAt(0)}),i}return _a(e,[{key:"valid",value:function(){return/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var n=this.bytes,i=n.shift()-105,o=w.SET_BY_CODE[i];if(o===void 0)throw new RangeError("The encoding does not start with a start character.");this.shouldEncodeAsEan128()===!0&&n.unshift(w.FNC1);var a=e.next(n,1,o);return{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:e.getBar(i)+a.result+e.getBar((a.checksum+i)%w.MODULO)+e.getBar(w.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var n=this.options.ean128||!1;return typeof n=="string"&&(n=n.toLowerCase()==="true"),n}}],[{key:"getBar",value:function(n){return w.BARS[n]?w.BARS[n].toString():""}},{key:"correctIndex",value:function(n,i){if(i===w.SET_A){var o=n.shift();return o<32?o+64:o-32}else return i===w.SET_B?n.shift()-32:(n.shift()-48)*10+n.shift()-48}},{key:"next",value:function(n,i,o){if(!n.length)return{result:"",checksum:0};var a=void 0,u=void 0;if(n[0]>=200){u=n.shift()-105;var f=w.SWAP[u];f!==void 0?a=e.next(n,i+1,f):((o===w.SET_A||o===w.SET_B)&&u===w.SHIFT&&(n[0]=o===w.SET_A?n[0]>95?n[0]-96:n[0]:n[0]<32?n[0]+96:n[0]),a=e.next(n,i+1,o))}else u=e.correctIndex(n,o),a=e.next(n,i+1,o);var l=e.getBar(u),s=u*i;return{result:l+a.result,checksum:s+a.checksum}}}]),e}(pa.default);bt.default=ba});var Dn=c(St=>{"use strict";Object.defineProperty(St,"__esModule",{value:!0});var k=Y(),Ln=function(e){return e.match(new RegExp("^"+k.A_CHARS+"*"))[0].length},Nn=function(e){return e.match(new RegExp("^"+k.B_CHARS+"*"))[0].length},kn=function(e){return e.match(new RegExp("^"+k.C_CHARS+"*"))[0]};function Ot(t,e){var r=e?k.A_CHARS:k.B_CHARS,n=t.match(new RegExp("^("+r+"+?)(([0-9]{2}){2,})([^0-9]|$)"));if(n)return n[1]+"\xCC"+qn(t.substring(n[1].length));var i=t.match(new RegExp("^"+r+"+"))[0];return i.length===t.length?t:i+String.fromCharCode(e?205:206)+Ot(t.substring(i.length),!e)}function qn(t){var e=kn(t),r=e.length;if(r===t.length)return t;t=t.substring(r);var n=Ln(t)>=Nn(t);return e+String.fromCharCode(n?206:205)+Ot(t,n)}St.default=function(t){var e=void 0,r=kn(t).length;if(r>=2)e=k.C_START_CHAR+qn(t);else{var n=Ln(t)>Nn(t);e=(n?k.A_START_CHAR:k.B_START_CHAR)+Ot(t,n)}return e.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,function(i,o){return"\xCB"+o})}});var Un=c(At=>{"use strict";Object.defineProperty(At,"__esModule",{value:!0});var Oa=ge(),Sa=jn(Oa),xa=Dn(),Aa=jn(xa);function jn(t){return t&&t.__esModule?t:{default:t}}function Ra(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xt(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Ta(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Ca=function(t){Ta(e,t);function e(r,n){if(Ra(this,e),/^[\x00-\x7F\xC8-\xD3]+$/.test(r))var i=xt(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,(0,Aa.default)(r),n));else var i=xt(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r,n));return xt(i)}return e}(Sa.default);At.default=Ca});var Fn=c(Rt=>{"use strict";Object.defineProperty(Rt,"__esModule",{value:!0});var Pa=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),Ma=ge(),Ba=Ia(Ma),zn=Y();function Ia(t){return t&&t.__esModule?t:{default:t}}function La(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Na(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function ka(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var qa=function(t){ka(e,t);function e(r,n){return La(this,e),Na(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,zn.A_START_CHAR+r,n))}return Pa(e,[{key:"valid",value:function(){return new RegExp("^"+zn.A_CHARS+"+$").test(this.data)}}]),e}(Ba.default);Rt.default=qa});var Hn=c(Tt=>{"use strict";Object.defineProperty(Tt,"__esModule",{value:!0});var Da=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),ja=ge(),Ua=za(ja),Gn=Y();function za(t){return t&&t.__esModule?t:{default:t}}function Fa(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ga(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Ha(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Va=function(t){Ha(e,t);function e(r,n){return Fa(this,e),Ga(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,Gn.B_START_CHAR+r,n))}return Da(e,[{key:"valid",value:function(){return new RegExp("^"+Gn.B_CHARS+"+$").test(this.data)}}]),e}(Ua.default);Tt.default=Va});var Xn=c(Ct=>{"use strict";Object.defineProperty(Ct,"__esModule",{value:!0});var Xa=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),$a=ge(),Ja=Ka($a),Vn=Y();function Ka(t){return t&&t.__esModule?t:{default:t}}function Ya(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qa(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Wa(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Za=function(t){Wa(e,t);function e(r,n){return Ya(this,e),Qa(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,Vn.C_START_CHAR+r,n))}return Xa(e,[{key:"valid",value:function(){return new RegExp("^"+Vn.C_CHARS+"+$").test(this.data)}}]),e}(Ja.default);Ct.default=Za});var $n=c(x=>{"use strict";Object.defineProperty(x,"__esModule",{value:!0});x.CODE128C=x.CODE128B=x.CODE128A=x.CODE128=void 0;var eu=Un(),tu=ke(eu),ru=Fn(),nu=ke(ru),iu=Hn(),ou=ke(iu),au=Xn(),uu=ke(au);function ke(t){return t&&t.__esModule?t:{default:t}}x.CODE128=tu.default;x.CODE128A=nu.default;x.CODE128B=ou.default;x.CODE128C=uu.default});var Q=c(q=>{"use strict";Object.defineProperty(q,"__esModule",{value:!0});var Ms=q.SIDE_BIN="101",Bs=q.MIDDLE_BIN="01010",Is=q.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]},Ls=q.EAN2_STRUCTURE=["LL","LG","GL","GG"],Ns=q.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"],ks=q.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"]});var W=c(Pt=>{"use strict";Object.defineProperty(Pt,"__esModule",{value:!0});var fu=Q(),cu=function(e,r,n){var i=e.split("").map(function(a,u){return fu.BINARIES[r[u]]}).map(function(a,u){return a?a[e[u]]:""});if(n){var o=e.length-1;i=i.map(function(a,u){return u<o?a+n:a})}return i.join("")};Pt.default=cu});var Bt=c(Mt=>{"use strict";Object.defineProperty(Mt,"__esModule",{value:!0});var lu=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),Z=Q(),su=W(),Jn=Kn(su),du=E(),hu=Kn(du);function Kn(t){return t&&t.__esModule?t:{default:t}}function gu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function vu(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var pu=function(t){vu(e,t);function e(r,n){gu(this,e);var i=_u(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r,n));return i.fontSize=!n.flat&&n.fontSize>n.width*10?n.width*10:n.fontSize,i.guardHeight=n.height+i.fontSize/2+n.textMargin,i}return lu(e,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(n,i){return this.text.substr(n,i)}},{key:"leftEncode",value:function(n,i){return(0,Jn.default)(n,i)}},{key:"rightText",value:function(n,i){return this.text.substr(n,i)}},{key:"rightEncode",value:function(n,i){return(0,Jn.default)(n,i)}},{key:"encodeGuarded",value:function(){var n={fontSize:this.fontSize},i={height:this.guardHeight};return[{data:Z.SIDE_BIN,options:i},{data:this.leftEncode(),text:this.leftText(),options:n},{data:Z.MIDDLE_BIN,options:i},{data:this.rightEncode(),text:this.rightText(),options:n},{data:Z.SIDE_BIN,options:i}]}},{key:"encodeFlat",value:function(){var n=[Z.SIDE_BIN,this.leftEncode(),Z.MIDDLE_BIN,this.rightEncode(),Z.SIDE_BIN];return{data:n.join(""),text:this.text}}}]),e}(hu.default);Mt.default=pu});var Qn=c(It=>{"use strict";Object.defineProperty(It,"__esModule",{value:!0});var yu=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),_e=function t(e,r,n){e===null&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,r);if(i===void 0){var o=Object.getPrototypeOf(e);return o===null?void 0:t(o,r,n)}else{if("value"in i)return i.value;var a=i.get;return a===void 0?void 0:a.call(n)}},Eu=Q(),wu=Bt(),mu=bu(wu);function bu(t){return t&&t.__esModule?t:{default:t}}function Ou(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Su(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function xu(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Yn=function(e){var r=e.substr(0,12).split("").map(function(n){return+n}).reduce(function(n,i,o){return o%2?n+i*3:n+i},0);return(10-r%10)%10},Au=function(t){xu(e,t);function e(r,n){Ou(this,e),r.search(/^[0-9]{12}$/)!==-1&&(r+=Yn(r));var i=Su(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r,n));return i.lastChar=n.lastChar,i}return yu(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{13}$/)!==-1&&+this.data[12]===Yn(this.data)}},{key:"leftText",value:function(){return _e(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var n=this.data.substr(1,6),i=Eu.EAN13_STRUCTURE[this.data[0]];return _e(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftEncode",this).call(this,n,i)}},{key:"rightText",value:function(){return _e(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var n=this.data.substr(7,6);return _e(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightEncode",this).call(this,n,"RRRRRR")}},{key:"encodeGuarded",value:function(){var n=_e(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(n.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(n.push({data:"00"}),n.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),n}}]),e}(mu.default);It.default=Au});var Zn=c(Lt=>{"use strict";Object.defineProperty(Lt,"__esModule",{value:!0});var Ru=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),qe=function t(e,r,n){e===null&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,r);if(i===void 0){var o=Object.getPrototypeOf(e);return o===null?void 0:t(o,r,n)}else{if("value"in i)return i.value;var a=i.get;return a===void 0?void 0:a.call(n)}},Tu=Bt(),Cu=Pu(Tu);function Pu(t){return t&&t.__esModule?t:{default:t}}function Mu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bu(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Iu(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Wn=function(e){var r=e.substr(0,7).split("").map(function(n){return+n}).reduce(function(n,i,o){return o%2?n+i:n+i*3},0);return(10-r%10)%10},Lu=function(t){Iu(e,t);function e(r,n){return Mu(this,e),r.search(/^[0-9]{7}$/)!==-1&&(r+=Wn(r)),Bu(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r,n))}return Ru(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{8}$/)!==-1&&+this.data[7]===Wn(this.data)}},{key:"leftText",value:function(){return qe(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var n=this.data.substr(0,4);return qe(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftEncode",this).call(this,n,"LLLL")}},{key:"rightText",value:function(){return qe(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var n=this.data.substr(4,4);return qe(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightEncode",this).call(this,n,"RRRR")}}]),e}(Cu.default);Lt.default=Lu});var ti=c(Nt=>{"use strict";Object.defineProperty(Nt,"__esModule",{value:!0});var Nu=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),ku=Q(),qu=W(),Du=ei(qu),ju=E(),Uu=ei(ju);function ei(t){return t&&t.__esModule?t:{default:t}}function zu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fu(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Gu(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Hu=function(e){var r=e.split("").map(function(n){return+n}).reduce(function(n,i,o){return o%2?n+i*9:n+i*3},0);return r%10},Vu=function(t){Gu(e,t);function e(r,n){return zu(this,e),Fu(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r,n))}return Nu(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{5}$/)!==-1}},{key:"encode",value:function(){var n=ku.EAN5_STRUCTURE[Hu(this.data)];return{data:"1011"+(0,Du.default)(this.data,n,"01"),text:this.text}}}]),e}(Uu.default);Nt.default=Vu});var ni=c(kt=>{"use strict";Object.defineProperty(kt,"__esModule",{value:!0});var Xu=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),$u=Q(),Ju=W(),Ku=ri(Ju),Yu=E(),Qu=ri(Yu);function ri(t){return t&&t.__esModule?t:{default:t}}function Wu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zu(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function ef(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var tf=function(t){ef(e,t);function e(r,n){return Wu(this,e),Zu(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r,n))}return Xu(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{2}$/)!==-1}},{key:"encode",value:function(){var n=$u.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,Ku.default)(this.data,n,"01"),text:this.text}}}]),e}(Qu.default);kt.default=tf});var Dt=c(De=>{"use strict";Object.defineProperty(De,"__esModule",{value:!0});var rf=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();De.checksum=qt;var nf=W(),ee=ii(nf),of=E(),af=ii(of);function ii(t){return t&&t.__esModule?t:{default:t}}function uf(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ff(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function cf(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var lf=function(t){cf(e,t);function e(r,n){uf(this,e),r.search(/^[0-9]{11}$/)!==-1&&(r+=qt(r));var i=ff(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r,n));return i.displayValue=n.displayValue,n.fontSize>n.width*10?i.fontSize=n.width*10:i.fontSize=n.fontSize,i.guardHeight=n.height+i.fontSize/2+n.textMargin,i}return rf(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{12}$/)!==-1&&this.data[11]==qt(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var n="";return n+="101",n+=(0,ee.default)(this.data.substr(0,6),"LLLLLL"),n+="01010",n+=(0,ee.default)(this.data.substr(6,6),"RRRRRR"),n+="101",{data:n,text:this.text}}},{key:"guardedEncoding",value:function(){var n=[];return this.displayValue&&n.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),n.push({data:"101"+(0,ee.default)(this.data[0],"L"),options:{height:this.guardHeight}}),n.push({data:(0,ee.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),n.push({data:"01010",options:{height:this.guardHeight}}),n.push({data:(0,ee.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),n.push({data:(0,ee.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&n.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),n}}]),e}(af.default);function qt(t){var e=0,r;for(r=1;r<11;r+=2)e+=parseInt(t[r]);for(r=0;r<11;r+=2)e+=parseInt(t[r])*3;return(10-e%10)%10}De.default=lf});var ui=c(Ut=>{"use strict";Object.defineProperty(Ut,"__esModule",{value:!0});var sf=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),df=W(),hf=ai(df),gf=E(),_f=ai(gf),vf=Dt();function ai(t){return t&&t.__esModule?t:{default:t}}function pf(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jt(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function yf(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Ef=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],wf=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],mf=function(t){yf(e,t);function e(r,n){pf(this,e);var i=jt(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r,n));if(i.isValid=!1,r.search(/^[0-9]{6}$/)!==-1)i.middleDigits=r,i.upcA=oi(r,"0"),i.text=n.text||""+i.upcA[0]+r+i.upcA[i.upcA.length-1],i.isValid=!0;else if(r.search(/^[01][0-9]{7}$/)!==-1)if(i.middleDigits=r.substring(1,r.length-1),i.upcA=oi(i.middleDigits,r[0]),i.upcA[i.upcA.length-1]===r[r.length-1])i.isValid=!0;else return jt(i);else return jt(i);return i.displayValue=n.displayValue,n.fontSize>n.width*10?i.fontSize=n.width*10:i.fontSize=n.fontSize,i.guardHeight=n.height+i.fontSize/2+n.textMargin,i}return sf(e,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var n="";return n+="101",n+=this.encodeMiddleDigits(),n+="010101",{data:n,text:this.text}}},{key:"guardedEncoding",value:function(){var n=[];return this.displayValue&&n.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),n.push({data:"101",options:{height:this.guardHeight}}),n.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),n.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&n.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),n}},{key:"encodeMiddleDigits",value:function(){var n=this.upcA[0],i=this.upcA[this.upcA.length-1],o=wf[parseInt(i)][parseInt(n)];return(0,hf.default)(this.middleDigits,o)}}]),e}(_f.default);function oi(t,e){for(var r=parseInt(t[t.length-1]),n=Ef[r],i="",o=0,a=0;a<n.length;a++){var u=n[a];u==="X"?i+=t[o++]:i+=u}return i=""+e+i,""+i+(0,vf.checksum)(i)}Ut.default=mf});var fi=c(y=>{"use strict";Object.defineProperty(y,"__esModule",{value:!0});y.UPCE=y.UPC=y.EAN2=y.EAN5=y.EAN8=y.EAN13=void 0;var bf=Qn(),Of=te(bf),Sf=Zn(),xf=te(Sf),Af=ti(),Rf=te(Af),Tf=ni(),Cf=te(Tf),Pf=Dt(),Mf=te(Pf),Bf=ui(),If=te(Bf);function te(t){return t&&t.__esModule?t:{default:t}}y.EAN13=Of.default;y.EAN8=xf.default;y.EAN5=Rf.default;y.EAN2=Cf.default;y.UPC=Mf.default;y.UPCE=If.default});var ci=c(ve=>{"use strict";Object.defineProperty(ve,"__esModule",{value:!0});var $s=ve.START_BIN="1010",Js=ve.END_BIN="11101",Ks=ve.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"]});var Ft=c(zt=>{"use strict";Object.defineProperty(zt,"__esModule",{value:!0});var Lf=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),je=ci(),Nf=E(),kf=qf(Nf);function qf(t){return t&&t.__esModule?t:{default:t}}function Df(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jf(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Uf(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var zf=function(t){Uf(e,t);function e(){return Df(this,e),jf(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Lf(e,[{key:"valid",value:function(){return this.data.search(/^([0-9]{2})+$/)!==-1}},{key:"encode",value:function(){var n=this,i=this.data.match(/.{2}/g).map(function(o){return n.encodePair(o)}).join("");return{data:je.START_BIN+i+je.END_BIN,text:this.text}}},{key:"encodePair",value:function(n){var i=je.BINARIES[n[1]];return je.BINARIES[n[0]].split("").map(function(o,a){return(o==="1"?"111":"1")+(i[a]==="1"?"000":"0")}).join("")}}]),e}(kf.default);zt.default=zf});var si=c(Gt=>{"use strict";Object.defineProperty(Gt,"__esModule",{value:!0});var Ff=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),Gf=Ft(),Hf=Vf(Gf);function Vf(t){return t&&t.__esModule?t:{default:t}}function Xf(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $f(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Jf(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var li=function(e){var r=e.substr(0,13).split("").map(function(n){return parseInt(n,10)}).reduce(function(n,i,o){return n+i*(3-o%2*2)},0);return Math.ceil(r/10)*10-r},Kf=function(t){Jf(e,t);function e(r,n){return Xf(this,e),r.search(/^[0-9]{13}$/)!==-1&&(r+=li(r)),$f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r,n))}return Ff(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{14}$/)!==-1&&+this.data[13]===li(this.data)}}]),e}(Hf.default);Gt.default=Kf});var hi=c(re=>{"use strict";Object.defineProperty(re,"__esModule",{value:!0});re.ITF14=re.ITF=void 0;var Yf=Ft(),Qf=di(Yf),Wf=si(),Zf=di(Wf);function di(t){return t&&t.__esModule?t:{default:t}}re.ITF=Qf.default;re.ITF14=Zf.default});var ne=c(Ht=>{"use strict";Object.defineProperty(Ht,"__esModule",{value:!0});var ec=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),tc=E(),rc=nc(tc);function nc(t){return t&&t.__esModule?t:{default:t}}function ic(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oc(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function ac(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var uc=function(t){ac(e,t);function e(r,n){return ic(this,e),oc(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r,n))}return ec(e,[{key:"encode",value:function(){for(var n="110",i=0;i<this.data.length;i++){var o=parseInt(this.data[i]),a=o.toString(2);a=fc(a,4-a.length);for(var u=0;u<a.length;u++)n+=a[u]=="0"?"100":"110"}return n+="1001",{data:n,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9]+$/)!==-1}}]),e}(rc.default);function fc(t,e){for(var r=0;r<e;r++)t="0"+t;return t}Ht.default=uc});var pe=c(Ue=>{"use strict";Object.defineProperty(Ue,"__esModule",{value:!0});Ue.mod10=cc;Ue.mod11=lc;function cc(t){for(var e=0,r=0;r<t.length;r++){var n=parseInt(t[r]);(r+t.length)%2===0?e+=n:e+=n*2%10+Math.floor(n*2/10)}return(10-e%10)%10}function lc(t){for(var e=0,r=[2,3,4,5,6,7],n=0;n<t.length;n++){var i=parseInt(t[t.length-1-n]);e+=r[n%r.length]*i}return(11-e%11)%11}});var gi=c(Vt=>{"use strict";Object.defineProperty(Vt,"__esModule",{value:!0});var sc=ne(),dc=gc(sc),hc=pe();function gc(t){return t&&t.__esModule?t:{default:t}}function _c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vc(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function pc(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var yc=function(t){pc(e,t);function e(r,n){return _c(this,e),vc(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r+(0,hc.mod10)(r),n))}return e}(dc.default);Vt.default=yc});var _i=c(Xt=>{"use strict";Object.defineProperty(Xt,"__esModule",{value:!0});var Ec=ne(),wc=bc(Ec),mc=pe();function bc(t){return t&&t.__esModule?t:{default:t}}function Oc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Sc(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function xc(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Ac=function(t){xc(e,t);function e(r,n){return Oc(this,e),Sc(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r+(0,mc.mod11)(r),n))}return e}(wc.default);Xt.default=Ac});var pi=c($t=>{"use strict";Object.defineProperty($t,"__esModule",{value:!0});var Rc=ne(),Tc=Cc(Rc),vi=pe();function Cc(t){return t&&t.__esModule?t:{default:t}}function Pc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Mc(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Bc(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Ic=function(t){Bc(e,t);function e(r,n){return Pc(this,e),r+=(0,vi.mod10)(r),r+=(0,vi.mod10)(r),Mc(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r,n))}return e}(Tc.default);$t.default=Ic});var Ei=c(Jt=>{"use strict";Object.defineProperty(Jt,"__esModule",{value:!0});var Lc=ne(),Nc=kc(Lc),yi=pe();function kc(t){return t&&t.__esModule?t:{default:t}}function qc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dc(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function jc(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Uc=function(t){jc(e,t);function e(r,n){return qc(this,e),r+=(0,yi.mod11)(r),r+=(0,yi.mod10)(r),Dc(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r,n))}return e}(Nc.default);Jt.default=Uc});var wi=c(b=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});b.MSI1110=b.MSI1010=b.MSI11=b.MSI10=b.MSI=void 0;var zc=ne(),Fc=ye(zc),Gc=gi(),Hc=ye(Gc),Vc=_i(),Xc=ye(Vc),$c=pi(),Jc=ye($c),Kc=Ei(),Yc=ye(Kc);function ye(t){return t&&t.__esModule?t:{default:t}}b.MSI=Fc.default;b.MSI10=Hc.default;b.MSI11=Xc.default;b.MSI1010=Jc.default;b.MSI1110=Yc.default});var mi=c(ze=>{"use strict";Object.defineProperty(ze,"__esModule",{value:!0});ze.pharmacode=void 0;var Qc=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),Wc=E(),Zc=el(Wc);function el(t){return t&&t.__esModule?t:{default:t}}function tl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rl(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function nl(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var il=function(t){nl(e,t);function e(r,n){tl(this,e);var i=rl(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r,n));return i.number=parseInt(r,10),i}return Qc(e,[{key:"encode",value:function(){for(var n=this.number,i="";!isNaN(n)&&n!=0;)n%2===0?(i="11100"+i,n=(n-2)/2):(i="100"+i,n=(n-1)/2);return i=i.slice(0,-2),{data:i,text:this.text}}},{key:"valid",value:function(){return this.number>=3&&this.number<=131070}}]),e}(Zc.default);ze.pharmacode=il});var bi=c(Fe=>{"use strict";Object.defineProperty(Fe,"__esModule",{value:!0});Fe.codabar=void 0;var ol=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),al=E(),ul=fl(al);function fl(t){return t&&t.__esModule?t:{default:t}}function cl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ll(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function sl(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var dl=function(t){sl(e,t);function e(r,n){cl(this,e),r.search(/^[0-9\-\$\:\.\+\/]+$/)===0&&(r="A"+r+"A");var i=ll(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r.toUpperCase(),n));return i.text=i.options.text||i.text.replace(/[A-D]/g,""),i}return ol(e,[{key:"valid",value:function(){return this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)!==-1}},{key:"encode",value:function(){for(var n=[],i=this.getEncodings(),o=0;o<this.data.length;o++)n.push(i[this.data.charAt(o)]),o!==this.data.length-1&&n.push("0");return{text:this.text,data:n.join("")}}},{key:"getEncodings",value:function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"1011011011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),e}(ul.default);Fe.codabar=dl});var Oi=c(Ge=>{"use strict";Object.defineProperty(Ge,"__esModule",{value:!0});Ge.GenericBarcode=void 0;var hl=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),gl=E(),_l=vl(gl);function vl(t){return t&&t.__esModule?t:{default:t}}function pl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yl(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function El(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var wl=function(t){El(e,t);function e(r,n){return pl(this,e),yl(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r,n))}return hl(e,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),e}(_l.default);Ge.GenericBarcode=wl});var xi=c(Kt=>{"use strict";Object.defineProperty(Kt,"__esModule",{value:!0});var ml=Pn(),He=$n(),ie=fi(),Si=hi(),Ee=wi(),bl=mi(),Ol=bi(),Sl=Oi();Kt.default={CODE39:ml.CODE39,CODE128:He.CODE128,CODE128A:He.CODE128A,CODE128B:He.CODE128B,CODE128C:He.CODE128C,EAN13:ie.EAN13,EAN8:ie.EAN8,EAN5:ie.EAN5,EAN2:ie.EAN2,UPC:ie.UPC,UPCE:ie.UPCE,ITF14:Si.ITF14,ITF:Si.ITF,MSI:Ee.MSI,MSI10:Ee.MSI10,MSI11:Ee.MSI11,MSI1010:Ee.MSI1010,MSI1110:Ee.MSI1110,pharmacode:bl.pharmacode,codabar:Ol.codabar,GenericBarcode:Sl.GenericBarcode}});var we=c(Yt=>{"use strict";Object.defineProperty(Yt,"__esModule",{value:!0});var xl=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};Yt.default=function(t,e){return xl({},t,e)}});var Ai=c(Qt=>{"use strict";Object.defineProperty(Qt,"__esModule",{value:!0});Qt.default=Al;function Al(t){var e=[];function r(n){if(Array.isArray(n))for(var i=0;i<n.length;i++)r(n[i]);else n.text=n.text||"",n.data=n.data||"",e.push(n)}return r(t),e}});var Ri=c(Wt=>{"use strict";Object.defineProperty(Wt,"__esModule",{value:!0});Wt.default=Rl;function Rl(t){return t.marginTop=t.marginTop||t.margin,t.marginBottom=t.marginBottom||t.margin,t.marginRight=t.marginRight||t.margin,t.marginLeft=t.marginLeft||t.margin,t}});var er=c(Zt=>{"use strict";Object.defineProperty(Zt,"__esModule",{value:!0});Zt.default=Tl;function Tl(t){var e=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var r in e)e.hasOwnProperty(r)&&(r=e[r],typeof t[r]=="string"&&(t[r]=parseInt(t[r],10)));return typeof t.displayValue=="string"&&(t.displayValue=t.displayValue!="false"),t}});var rr=c(tr=>{"use strict";Object.defineProperty(tr,"__esModule",{value:!0});var Cl={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}};tr.default=Cl});var Pi=c(nr=>{"use strict";Object.defineProperty(nr,"__esModule",{value:!0});var Pl=er(),Ml=Ci(Pl),Bl=rr(),Ti=Ci(Bl);function Ci(t){return t&&t.__esModule?t:{default:t}}function Il(t){var e={};for(var r in Ti.default)Ti.default.hasOwnProperty(r)&&(t.hasAttribute("jsbarcode-"+r.toLowerCase())&&(e[r]=t.getAttribute("jsbarcode-"+r.toLowerCase())),t.hasAttribute("data-"+r.toLowerCase())&&(e[r]=t.getAttribute("data-"+r.toLowerCase())));return e.value=t.getAttribute("jsbarcode-value")||t.getAttribute("data-value"),e=(0,Ml.default)(e),e}nr.default=Il});var ir=c(O=>{"use strict";Object.defineProperty(O,"__esModule",{value:!0});O.getTotalWidthOfEncodings=O.calculateEncodingAttributes=O.getBarcodePadding=O.getEncodingHeight=O.getMaximumHeightOfEncodings=void 0;var Ll=we(),Nl=kl(Ll);function kl(t){return t&&t.__esModule?t:{default:t}}function Mi(t,e){return e.height+(e.displayValue&&t.text.length>0?e.fontSize+e.textMargin:0)+e.marginTop+e.marginBottom}function Bi(t,e,r){if(r.displayValue&&e<t){if(r.textAlign=="center")return Math.floor((t-e)/2);if(r.textAlign=="left")return 0;if(r.textAlign=="right")return Math.floor(t-e)}return 0}function ql(t,e,r){for(var n=0;n<t.length;n++){var i=t[n],o=(0,Nl.default)(e,i.options),a;o.displayValue?a=Ul(i.text,o,r):a=0;var u=i.data.length*o.width;i.width=Math.ceil(Math.max(a,u)),i.height=Mi(i,o),i.barcodePadding=Bi(a,u,o)}}function Dl(t){for(var e=0,r=0;r<t.length;r++)e+=t[r].width;return e}function jl(t){for(var e=0,r=0;r<t.length;r++)t[r].height>e&&(e=t[r].height);return e}function Ul(t,e,r){var n;if(r)n=r;else if(typeof document<"u")n=document.createElement("canvas").getContext("2d");else return 0;n.font=e.fontOptions+" "+e.fontSize+"px "+e.font;var i=n.measureText(t);if(!i)return 0;var o=i.width;return o}O.getMaximumHeightOfEncodings=jl;O.getEncodingHeight=Mi;O.getBarcodePadding=Bi;O.calculateEncodingAttributes=ql;O.getTotalWidthOfEncodings=Dl});var Ii=c(ar=>{"use strict";Object.defineProperty(ar,"__esModule",{value:!0});var zl=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),Fl=we(),Gl=Hl(Fl),or=ir();function Hl(t){return t&&t.__esModule?t:{default:t}}function Vl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Xl=function(){function t(e,r,n){Vl(this,t),this.canvas=e,this.encodings=r,this.options=n}return zl(t,[{key:"render",value:function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var r=0;r<this.encodings.length;r++){var n=(0,Gl.default)(this.options,this.encodings[r].options);this.drawCanvasBarcode(n,this.encodings[r]),this.drawCanvasText(n,this.encodings[r]),this.moveCanvasDrawing(this.encodings[r])}this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var r=this.canvas.getContext("2d");r.save(),(0,or.calculateEncodingAttributes)(this.encodings,this.options,r);var n=(0,or.getTotalWidthOfEncodings)(this.encodings),i=(0,or.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=n+this.options.marginLeft+this.options.marginRight,this.canvas.height=i,r.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(r.fillStyle=this.options.background,r.fillRect(0,0,this.canvas.width,this.canvas.height)),r.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(r,n){var i=this.canvas.getContext("2d"),o=n.data,a;r.textPosition=="top"?a=r.marginTop+r.fontSize+r.textMargin:a=r.marginTop,i.fillStyle=r.lineColor;for(var u=0;u<o.length;u++){var f=u*r.width+n.barcodePadding;o[u]==="1"?i.fillRect(f,a,r.width,r.height):o[u]&&i.fillRect(f,a,r.width,r.height*o[u])}}},{key:"drawCanvasText",value:function(r,n){var i=this.canvas.getContext("2d"),o=r.fontOptions+" "+r.fontSize+"px "+r.font;if(r.displayValue){var a,u;r.textPosition=="top"?u=r.marginTop+r.fontSize-r.textMargin:u=r.height+r.textMargin+r.marginTop+r.fontSize,i.font=o,r.textAlign=="left"||n.barcodePadding>0?(a=0,i.textAlign="left"):r.textAlign=="right"?(a=n.width-1,i.textAlign="right"):(a=n.width/2,i.textAlign="center"),i.fillText(n.text,a,u)}}},{key:"moveCanvasDrawing",value:function(r){var n=this.canvas.getContext("2d");n.translate(r.width,0)}},{key:"restoreCanvas",value:function(){var r=this.canvas.getContext("2d");r.restore()}}]),t}();ar.default=Xl});var Li=c(fr=>{"use strict";Object.defineProperty(fr,"__esModule",{value:!0});var $l=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),Jl=we(),Kl=Yl(Jl),ur=ir();function Yl(t){return t&&t.__esModule?t:{default:t}}function Ql(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Ve="http://www.w3.org/2000/svg",Wl=function(){function t(e,r,n){Ql(this,t),this.svg=e,this.encodings=r,this.options=n,this.document=n.xmlDocument||document}return $l(t,[{key:"render",value:function(){var r=this.options.marginLeft;this.prepareSVG();for(var n=0;n<this.encodings.length;n++){var i=this.encodings[n],o=(0,Kl.default)(this.options,i.options),a=this.createGroup(r,o.marginTop,this.svg);this.setGroupOptions(a,o),this.drawSvgBarcode(a,o,i),this.drawSVGText(a,o,i),r+=i.width}}},{key:"prepareSVG",value:function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,ur.calculateEncodingAttributes)(this.encodings,this.options);var r=(0,ur.getTotalWidthOfEncodings)(this.encodings),n=(0,ur.getMaximumHeightOfEncodings)(this.encodings),i=r+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(i,n),this.options.background&&this.drawRect(0,0,i,n,this.svg).setAttribute("style","fill:"+this.options.background+";")}},{key:"drawSvgBarcode",value:function(r,n,i){var o=i.data,a;n.textPosition=="top"?a=n.fontSize+n.textMargin:a=0;for(var u=0,f=0,l=0;l<o.length;l++)f=l*n.width+i.barcodePadding,o[l]==="1"?u++:u>0&&(this.drawRect(f-n.width*u,a,n.width*u,n.height,r),u=0);u>0&&this.drawRect(f-n.width*(u-1),a,n.width*u,n.height,r)}},{key:"drawSVGText",value:function(r,n,i){var o=this.document.createElementNS(Ve,"text");if(n.displayValue){var a,u;o.setAttribute("style","font:"+n.fontOptions+" "+n.fontSize+"px "+n.font),n.textPosition=="top"?u=n.fontSize-n.textMargin:u=n.height+n.textMargin+n.fontSize,n.textAlign=="left"||i.barcodePadding>0?(a=0,o.setAttribute("text-anchor","start")):n.textAlign=="right"?(a=i.width-1,o.setAttribute("text-anchor","end")):(a=i.width/2,o.setAttribute("text-anchor","middle")),o.setAttribute("x",a),o.setAttribute("y",u),o.appendChild(this.document.createTextNode(i.text)),r.appendChild(o)}}},{key:"setSvgAttributes",value:function(r,n){var i=this.svg;i.setAttribute("width",r+"px"),i.setAttribute("height",n+"px"),i.setAttribute("x","0px"),i.setAttribute("y","0px"),i.setAttribute("viewBox","0 0 "+r+" "+n),i.setAttribute("xmlns",Ve),i.setAttribute("version","1.1"),i.setAttribute("style","transform: translate(0,0)")}},{key:"createGroup",value:function(r,n,i){var o=this.document.createElementNS(Ve,"g");return o.setAttribute("transform","translate("+r+", "+n+")"),i.appendChild(o),o}},{key:"setGroupOptions",value:function(r,n){r.setAttribute("style","fill:"+n.lineColor+";")}},{key:"drawRect",value:function(r,n,i,o,a){var u=this.document.createElementNS(Ve,"rect");return u.setAttribute("x",r),u.setAttribute("y",n),u.setAttribute("width",i),u.setAttribute("height",o),a.appendChild(u),u}}]),t}();fr.default=Wl});var Ni=c(cr=>{"use strict";Object.defineProperty(cr,"__esModule",{value:!0});var Zl=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function e0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var t0=function(){function t(e,r,n){e0(this,t),this.object=e,this.encodings=r,this.options=n}return Zl(t,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),t}();cr.default=t0});var ki=c(sr=>{"use strict";Object.defineProperty(sr,"__esModule",{value:!0});var r0=Ii(),n0=lr(r0),i0=Li(),o0=lr(i0),a0=Ni(),u0=lr(a0);function lr(t){return t&&t.__esModule?t:{default:t}}sr.default={CanvasRenderer:n0.default,SVGRenderer:o0.default,ObjectRenderer:u0.default}});var _r=c(me=>{"use strict";Object.defineProperty(me,"__esModule",{value:!0});function dr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hr(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function gr(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var f0=function(t){gr(e,t);function e(r,n){dr(this,e);var i=hr(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return i.name="InvalidInputException",i.symbology=r,i.input=n,i.message='"'+i.input+'" is not a valid input for '+i.symbology,i}return e}(Error),c0=function(t){gr(e,t);function e(){dr(this,e);var r=hr(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.name="InvalidElementException",r.message="Not supported type to render on",r}return e}(Error),l0=function(t){gr(e,t);function e(){dr(this,e);var r=hr(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.name="NoElementException",r.message="No element to render on.",r}return e}(Error);me.InvalidInputException=f0;me.InvalidElementException=c0;me.NoElementException=l0});var Di=c(yr=>{"use strict";Object.defineProperty(yr,"__esModule",{value:!0});var s0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d0=Pi(),vr=qi(d0),h0=ki(),be=qi(h0),g0=_r();function qi(t){return t&&t.__esModule?t:{default:t}}function pr(t){if(typeof t=="string")return _0(t);if(Array.isArray(t)){for(var e=[],r=0;r<t.length;r++)e.push(pr(t[r]));return e}else{if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLImageElement)return v0(t);if(t&&t.nodeName&&t.nodeName.toLowerCase()==="svg"||typeof SVGElement<"u"&&t instanceof SVGElement)return{element:t,options:(0,vr.default)(t),renderer:be.default.SVGRenderer};if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement)return{element:t,options:(0,vr.default)(t),renderer:be.default.CanvasRenderer};if(t&&t.getContext)return{element:t,renderer:be.default.CanvasRenderer};if(t&&(typeof t>"u"?"undefined":s0(t))==="object"&&!t.nodeName)return{element:t,renderer:be.default.ObjectRenderer};throw new g0.InvalidElementException}}function _0(t){var e=document.querySelectorAll(t);if(e.length!==0){for(var r=[],n=0;n<e.length;n++)r.push(pr(e[n]));return r}}function v0(t){var e=document.createElement("canvas");return{element:e,options:(0,vr.default)(t),renderer:be.default.CanvasRenderer,afterRender:function(){t.setAttribute("src",e.toDataURL())}}}yr.default=pr});var ji=c(Er=>{"use strict";Object.defineProperty(Er,"__esModule",{value:!0});var p0=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function y0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var E0=function(){function t(e){y0(this,t),this.api=e}return p0(t,[{key:"handleCatch",value:function(r){if(r.name==="InvalidInputException")if(this.api._options.valid!==this.api._defaults.valid)this.api._options.valid(!1);else throw r.message;else throw r;this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(r){try{var n=r.apply(void 0,arguments);return this.api._options.valid(!0),n}catch(i){return this.handleCatch(i),this.api}}}]),t}();Er.default=E0});var $i=c((x1,Xi)=>{"use strict";var w0=xi(),G=D(w0),m0=we(),Oe=D(m0),b0=Ai(),zi=D(b0),O0=Ri(),Ui=D(O0),S0=Di(),x0=D(S0),A0=er(),R0=D(A0),T0=ji(),C0=D(T0),Fi=_r(),P0=rr(),Gi=D(P0);function D(t){return t&&t.__esModule?t:{default:t}}var C=function(){},Xe=function(e,r,n){var i=new C;if(typeof e>"u")throw Error("No element to render on was provided.");return i._renderProperties=(0,x0.default)(e),i._encodings=[],i._options=Gi.default,i._errorHandler=new C0.default(i),typeof r<"u"&&(n=n||{},n.format||(n.format=Vi()),i.options(n)[n.format](r,n).render()),i};Xe.getModule=function(t){return G.default[t]};for(wr in G.default)G.default.hasOwnProperty(wr)&&M0(G.default,wr);var wr;function M0(t,e){C.prototype[e]=C.prototype[e.toUpperCase()]=C.prototype[e.toLowerCase()]=function(r,n){var i=this;return i._errorHandler.wrapBarcodeCall(function(){n.text=typeof n.text>"u"?void 0:""+n.text;var o=(0,Oe.default)(i._options,n);o=(0,R0.default)(o);var a=t[e],u=Hi(r,a,o);return i._encodings.push(u),i})}}function Hi(t,e,r){t=""+t;var n=new e(t,r);if(!n.valid())throw new Fi.InvalidInputException(n.constructor.name,t);var i=n.encode();i=(0,zi.default)(i);for(var o=0;o<i.length;o++)i[o].options=(0,Oe.default)(r,i[o].options);return i}function Vi(){return G.default.CODE128?"CODE128":Object.keys(G.default)[0]}C.prototype.options=function(t){return this._options=(0,Oe.default)(this._options,t),this};C.prototype.blank=function(t){var e=new Array(t+1).join("0");return this._encodings.push({data:e}),this};C.prototype.init=function(){if(this._renderProperties){Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]);var t;for(var e in this._renderProperties){t=this._renderProperties[e];var r=(0,Oe.default)(this._options,t.options);r.format=="auto"&&(r.format=Vi()),this._errorHandler.wrapBarcodeCall(function(){var n=r.value,i=G.default[r.format.toUpperCase()],o=Hi(n,i,r);mr(t,o,r)})}}};C.prototype.render=function(){if(!this._renderProperties)throw new Fi.NoElementException;if(Array.isArray(this._renderProperties))for(var t=0;t<this._renderProperties.length;t++)mr(this._renderProperties[t],this._encodings,this._options);else mr(this._renderProperties,this._encodings,this._options);return this};C.prototype._defaults=Gi.default;function mr(t,e,r){e=(0,zi.default)(e);for(var n=0;n<e.length;n++)e[n].options=(0,Oe.default)(r,e[n].options),(0,Ui.default)(e[n].options);(0,Ui.default)(r);var i=t.renderer,o=new i(t.element,e,r);o.render(),t.afterRender&&t.afterRender()}typeof window<"u"&&(window.JsBarcode=Xe);typeof jQuery<"u"&&(jQuery.fn.JsBarcode=function(t,e){var r=[];return jQuery(this).each(function(){r.push(this)}),Xe(r,t,e)});Xi.exports=Xe});var Ki=Ar(Rn()),Yi=Ar($i());var Ji=`.tabs {\r
	display: flex;\r
	justify-content: space-around;\r
	margin-top: 8px;\r
}\r
\r
.tab {\r
	flex: 1;\r
	padding: 0.5em;\r
	text-align: center;\r
	cursor: pointer;\r
	background: #333;\r
	color: #fff;\r
}\r
\r
.tab.active {\r
	background: #555;\r
	font-weight: bold;\r
}\r
\r
.cardlist {\r
	display: flex;\r
	flex-direction: column;\r
	gap: 12px;\r
	max-height: 300px;\r
	overflow-y: auto;\r
}\r
\r
.card {\r
	display: flex;\r
	flex-direction: column;\r
	justify-content: center;\r
	padding: 0.5em;\r
	border: 1px solid #ccc;\r
	cursor: pointer;\r
	min-height: 3.5em;\r
}\r
\r
.card small {\r
	font-size: 0.85em;\r
	color: #bbb;\r
}\r
\r
.popup {\r
	position: fixed;\r
	top: 10%;\r
	left: 50%;\r
	transform: translateX(-50%);\r
	background: white;\r
	padding: 1em;\r
	border: 2px solid #ccc;\r
	z-index: 1000;\r
	box-shadow: 0 0 15px rgba(0, 0, 0, 0.3);\r
}\r
\r
.card-title {\r
	font-weight: bold;\r
	font-size: 1.5em;\r
	color: black;\r
}\r
\r
.popup .code {\r
	margin-top: 12px;\r
	display: flex;\r
	justify-content: center;\r
	align-items: center;\r
}\r
\r
.popup .code canvas {\r
	max-width: 90vw;\r
	height: auto;\r
}\r
\r
.button-group {\r
	display: flex;\r
	justify-content: center;\r
	gap: 10px;\r
	margin-top: 1em;\r
}\r
\r
.button-group button {\r
	background: #666;\r
	color: white;\r
	padding: 8px 14px;\r
	border: none;\r
	font-size: 0.95em;\r
	cursor: pointer;\r
}\r
\r
.button-group button:hover {\r
	background: #444;\r
}\r
\r
ha-icon {\r
	vertical-align: middle;\r
	margin-right: 4px;\r
}\r
\r
.new-card-row {\r
	display: flex;\r
	gap: 6px;\r
	align-items: stretch;\r
	width: 100%;\r
	box-sizing: border-box;\r
	margin-top: 1em;\r
}\r
\r
.new-card-row input {\r
	flex: 1;\r
	min-width: 0;\r
	padding: 6px;\r
	box-sizing: border-box;\r
}\r
\r
.new-card-row button {\r
	flex: 0 0 auto;\r
	padding: 6px;\r
	background-color: #444;\r
	color: white;\r
	border: none;\r
	display: flex;\r
	align-items: center;\r
	justify-content: center;\r
	box-sizing: border-box;\r
	cursor: pointer;\r
}\r
\r
.new-card-row button ha-icon {\r
	color: white;\r
}\r
\r
.close-btn {\r
	position: absolute;\r
	top: 8px;\r
	right: 8px;\r
	cursor: pointer;\r
	--mdc-icon-size: 24px;\r
	color: #888;\r
	transition: color 0.2s;\r
}\r
\r
.close-btn:hover {\r
	color: #e00;\r
}`;var br=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.viewModes={},this.selectedCard=null,this.activeTab="own",this._inputState={name:"",code:""},this.inputContainer=document.createElement("div"),this.dynamicContainer=document.createElement("div");let e=document.createElement("style");e.textContent=Ji,this.shadowRoot.appendChild(e),this.inputContainer.innerHTML=`
      <form id="new-card-form" class="new-card-row">
        <input id="name" placeholder="Name" />
        <input id="code" placeholder="Code" />
        <button type="submit" title="Add Card">
          <ha-icon icon="mdi:plus"></ha-icon>
        </button>
      </form>
    `,this.shadowRoot.appendChild(this.inputContainer),this.shadowRoot.appendChild(this.dynamicContainer),this.inputContainer.querySelector("#new-card-form").addEventListener("submit",this.addCard.bind(this))}setConfig(e){this._config=e}set hass(e){this._hass=e,this.loadCards()}async loadCards(){let e=this.shadowRoot.getElementById("name"),r=this.shadowRoot.getElementById("code"),n=document.activeElement?.id;e&&r&&(this._inputState.name=e.value,this._inputState.code=r.value,this._inputState.focusId=n);let i=await this._hass.callApi("get","cardwallet"),o=this._hass.user.id;this.ownCards=i.filter(a=>a.user_id===o),this.otherCards=i.filter(a=>a.user_id!==o),this.render()}toggleCodeType(e){this.viewModes[e]=this.viewModes[e]==="barcode"?"qr":"barcode",this.render()}openCard(e){this.selectedCard=[...this.ownCards,...this.otherCards].find(r=>r.card_id===e),this.viewModes[e]||(this.viewModes[e]="barcode"),this.render()}closeCard(){this.selectedCard=null,this.render()}async addCard(e){e.preventDefault();let r=this.shadowRoot.getElementById("name").value,n=this.shadowRoot.getElementById("code").value;if(!r||!n)return alert("Missing fields");await this._hass.callApi("post","cardwallet",{name:r,code:n,owner:this._hass.user.name,user_id:this._hass.user.id}),this._inputState={name:"",code:""},this.shadowRoot.getElementById("name").value="",this.shadowRoot.getElementById("code").value="",this.loadCards()}async deleteCard(e){await this._hass.callApi("delete",`cardwallet/${e.card_id}`,{user_id:e.user_id}),this.closeCard(),this.loadCards()}async updateCard(e){let r=prompt("New name:",e.name);r!==null&&(await this._hass.callApi("put",`cardwallet/${e.card_id}`,{user_id:e.user_id,name:r}),this.selectedCard&&this.selectedCard.card_id===e.card_id&&(this.selectedCard.name=r),this.loadCards())}render(){let e=this.dynamicContainer.querySelector(".cardlist"),r=e?e.scrollTop:0;if(this.dynamicContainer.innerHTML=`
      <div class="tabs">
        <div class="tab ${this.activeTab==="own"?"active":""}" id="tab-own">My Cards</div>
        <div class="tab ${this.activeTab==="others"?"active":""}" id="tab-others">Others' Cards</div>
      </div>
      <div class="cardlist">
        ${(this.activeTab==="own"?this.ownCards:this.otherCards).map(i=>`
          <div class="card" data-card-id="${i.card_id}">
            <strong>${i.name}</strong>
            ${this.activeTab==="others"?`<br><small><ha-icon icon="mdi:account"></ha-icon> ${i.owner}</small>`:""}
          </div>
        `).join("")}
      </div>
      ${this.selectedCard?`
        <div class="popup">
          <h3 class="card-title">${this.selectedCard.name}</h3>
          <div class="code" id="code-preview"></div>
          <div class="button-group">
            <button id="toggle-code"><ha-icon icon="mdi:cached"></ha-icon> QR/Barcode</button>
            ${this.selectedCard.user_id===this._hass.user.id?`
              <button id="edit"><ha-icon icon="mdi:pencil"></ha-icon> Edit</button>
              <button id="delete"><ha-icon icon="mdi:delete"></ha-icon> Delete</button>
            `:""}
          </div>
          <ha-icon icon="mdi:close" class="close-btn" id="close" title="Close"></ha-icon>
        </div>
      `:""}
    `,this.dynamicContainer.querySelector("#tab-own")?.addEventListener("click",()=>{this.activeTab="own",this.render()}),this.dynamicContainer.querySelector("#tab-others")?.addEventListener("click",()=>{this.activeTab="others",this.render()}),this.dynamicContainer.querySelectorAll("[data-card-id]").forEach(i=>i.addEventListener("click",()=>this.openCard(i.getAttribute("data-card-id")))),this.selectedCard){let i=this.viewModes[this.selectedCard.card_id]||"barcode",o=this.dynamicContainer.querySelector("#code-preview");if(o.innerHTML="",i==="qr"){let a=document.createElement("canvas");o.appendChild(a),Ki.default.toCanvas(a,this.selectedCard.code,{width:160,margin:1},u=>{u&&console.error("QR generation error:",u)})}else{let a=document.createElement("canvas");o.appendChild(a);let u=this.selectedCard.code.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-zA-Z0-9]/g,"");(0,Yi.default)(a,u,{format:"CODE128",width:5,height:80})}this.dynamicContainer.querySelector("#toggle-code")?.addEventListener("click",()=>this.toggleCodeType(this.selectedCard.card_id)),this.dynamicContainer.querySelector("#close")?.addEventListener("click",()=>this.closeCard()),this.selectedCard.user_id===this._hass.user.id&&(this.dynamicContainer.querySelector("#delete")?.addEventListener("click",()=>this.deleteCard(this.selectedCard)),this.dynamicContainer.querySelector("#edit")?.addEventListener("click",()=>this.updateCard(this.selectedCard)))}let n=this.dynamicContainer.querySelector(".cardlist");n&&(n.scrollTop=r)}};customElements.define("cardwallet-card",br);
